<div class="transactions__table-container">
  <div class="grid-row">
    <nav class="navbar navbar-light width-100">
      <button [ngClass]="{
                                    'btn btn-primary': transactionCategory === 'receipts',
                                    'btn btn-secondary-gray': transactionCategory !== 'receipts'
                                  }" class="btn-lg width-25" type="button"
        (click)="changeTransactionCategory('receipts')">
        Receipts
      </button>
      <button [ngClass]="{
                            'btn btn-primary': transactionCategory === 'disbursements',
                            'btn btn-secondary-gray': transactionCategory !== 'disbursements'
                          }" class="btn-lg width-25" type="button"
        (click)="changeTransactionCategory('disbursements')">
        Disbursements
      </button>
      <button [ngClass]="{
                            'btn btn-primary': transactionCategory === 'loans-and-debts',
                            'btn btn-secondary-gray': transactionCategory !== 'loans-and-debts'
                          }" class="btn-lg width-25" type="button"
        (click)="changeTransactionCategory('loans-and-debts')">
        Loans and Debts
      </button>
      <button [ngClass]="{
                      'btn btn-primary': transactionCategory === 'other',
                      'btn btn-secondary-gray': transactionCategory !== 'other'
                      }" class="btn-lg width-25" type="button" (click)="changeTransactionCategory('other')">
        Other
      </button>
    </nav>
  </div>
  <div class="grid-row float-right transactions__page-item-range">
    <div *ngIf="isTransactionViewActive() || isRecycleBinViewActive()"
      class="float-right transactions__item-range">
      {{determineItemRange()}} of {{config.totalItems}}
    </div>
  </div>
  <div *ngIf="apiError" class="text-error text-center">
      There was an unexpected error. Please try again. 
  </div> 

  <ng-container *ngIf="!apiError">
  <!--Receipt transaction table-->
    <table class="table table-striped table-hover table__sortable transactions__table" *ngIf="transactionCategory === 'receipts'">
      <thead>
        <tr>
          <th class="transactions__table-checkbox">
            <input [@fadeInOut] [(ngModel)]="allTransactionsSelected" type="checkbox" (change)="changeAllTransactionsSelected()">
          </th>
          <th [@fadeInOut] *ngIf="_allTransactions" [class]="getSortClass('reportType')" (click)="changeSortDirection('reportType')">Report Type
          </th>
          <th [@fadeInOut] *ngIf="isColumnVisible('type')" [class]="getSortClass('type')" (click)="changeSortDirection('type')">Type
          </th>
          <th [@fadeInOut] *ngIf="isColumnVisible('transactionId')" [class]="getSortClass('transactionId')" (click)="changeSortDirection('transactionId')">Transaction Id
          </th>
          <th [@fadeInOut] *ngIf="isColumnVisible('name')" [class]="getSortClass('name')" (click)="changeSortDirection('name')">Name
          </th>
          <th [@fadeInOut] *ngIf="isColumnVisible('street')" [class]="getSortClass('street')" (click)="changeSortDirection('street')">
            Street
          </th>
          <th [@fadeInOut] *ngIf="isColumnVisible('city')" [class]="getSortClass('city')" (click)="changeSortDirection('city')">City
          </th>
          <th [@fadeInOut] *ngIf="isColumnVisible('state')" [class]="getSortClass('state')" (click)="changeSortDirection('state')">
            State
          </th>
          <th [@fadeInOut] *ngIf="isColumnVisible('zip')" [class]="getSortClass('zip')" (click)="changeSortDirection('zip')">Zip
          </th>
          <th [@fadeInOut] *ngIf="isColumnVisible('date')" [class]="getSortClass('date')" (click)="changeSortDirection('date')">Date
          </th>
        <!--<th [@fadeInOut] *ngIf="isColumnVisible('aggregate')" [class]="getSortClass('aggregate')"
            (click)="changeSortDirection('aggregate')">Aggregate
          </th>-->
          <th [@fadeInOut] *ngIf="isColumnVisible('purposeDescription')" [class]="getSortClass('purposeDescription')"
            (click)="changeSortDirection('purposeDescription')">Purpose Description
          </th>
          <th [@fadeInOut] *ngIf="isColumnVisible('contributorEmployer')" [class]="getSortClass('contributorEmployer')"
            (click)="changeSortDirection('contributorEmployer')">Contributor Employer
          </th>
          <th [@fadeInOut] *ngIf="isColumnVisible('contributorOccupation')" [class]="getSortClass('contributorOccupation')"
            (click)="changeSortDirection('contributorOccupation')">Contributor Occupation
          </th>
          <th [@fadeInOut] *ngIf="isColumnVisible('memoCode')" [class]="getSortClass('memoCode')"
            (click)="changeSortDirection('memoCode')">Memo
          </th>
          <th [@fadeInOut] *ngIf="isColumnVisible('memoText')" [class]="getSortClass('memoText')"
            (click)="changeSortDirection('memoText')">Memo Text/Description
          </th>
          <th [@fadeInOut] *ngIf="isRecycleBinViewActive()" [class]="getSortClass('deletedDate')"
            (click)="changeSortDirection('deletedate')">Deleted Date
          </th>
          <th [@fadeInOut] *ngIf="isColumnVisible('amount')" [class]="getSortClass('amount')" (click)="changeSortDirection('amount')">
            Amount
          </th>        
          <th [@fadeInOut] *ngIf="isColumnVisible('aggregate')" [class]="getSortClass('aggregate')"
            (click)="changeSortDirection('aggregate')">Aggregate
          </th>
          <th class="bulk_action">
            <div *ngIf="editMode">
              <div [@fadeInOut] *ngIf="isTransactionViewActive()" class="btn-group" ngbDropdown role="group"
                aria-label="Action dropdown">
                <button class="btn btn-sm btn-primary transactions__bulk_action_btn" ngbDropdownToggle
                  [disabled]="bulkActionDisabled">
                  <i class="ellipsis-icon"></i>
                </button>
                <div id="transactions__dropdown-action" class="dropdown-menu" ngbDropdownMenu>
                  <button class="dropdown-item" (click)="printAllSelected()">
                    <i class="print-icon"></i> Print
                  </button>
                  <button class="dropdown-item" (click)="exportAllSelected()">
                    <i class="file-export-icon"></i> Export
                  </button>
                  <button *ngIf="checkIfTrashable()" class="dropdown-item" (click)="trashAllSelected()">
                    <i class="trash-icon"></i> Trash
                  </button>
                </div>
              </div>
            </div>
            <div *ngIf="!editMode">
              <button class="btn btn-sm btn-primary" (click)="checkIfEditMode()">
                <i class="ellipsis-icon"></i>
              </button>
            </div>
            <div [@fadeInOut] *ngIf="isRecycleBinViewActive()">
              <button class="btn btn-sm btn-primary transactions__bulk_action_btn" (click)="deleteRecyleBin()"
                [disabled]="bulkActionDisabled">
                <i class="trash-icon"></i>
              </button>
            </div>
          </th>
        </tr>
      </thead>
      <tbody>
          
        <ng-container *ngFor="let trx of transactionsModel | paginate: config; let i = index;">
          <tr>
            <td>
              <input [(ngModel)]="trx.selected" type="checkbox" (click)="checkForMultiChecked($event)">
            </td>
            <td [@fadeInOut] *ngIf="_allTransactions">{{trx.reportType}}</td>
            <td [@fadeInOut] *ngIf="isColumnVisible('type')">{{trx.itemized ==='U' ? trx.type +' ('+ trx.itemized + ') ' : trx.type}}</td>
            <td [@fadeInOut] *ngIf="isColumnVisible('transactionId')">{{trx.transactionId}}</td>
            <td [@fadeInOut] [ngClass]="trx.child ? 'parent': ''" 
                (click)="trx.child? trx.toggleChild = !trx.toggleChild: ''" *ngIf="isColumnVisible('name')">{{trx.name}}
                <div *ngIf="trx.child" class="align_right arrow" [ngClass]="trx.toggleChild ? 'arrow-top' : 'arrow-bottom'"></div>
            </td>
            <td [@fadeInOut] *ngIf="isColumnVisible('street')">{{trx.street}} {{trx.street2}}</td>
            <td [@fadeInOut] *ngIf="isColumnVisible('city')">{{trx.city}}</td>
            <td [@fadeInOut] *ngIf="isColumnVisible('state')">{{trx.state}}</td>
            <td [@fadeInOut] *ngIf="isColumnVisible('zip')">{{trx.zip | zipCode}}</td>
            <td [@fadeInOut] *ngIf="isColumnVisible('date')">{{trx.date | date: 'MM/dd/yyyy'}}</td>
            <td [@fadeInOut] *ngIf="isColumnVisible('purposeDescription')">{{trx.purposeDescription}}</td>
            <td [@fadeInOut] *ngIf="isColumnVisible('contributorEmployer')">{{trx.contributorEmployer}}</td>
            <td [@fadeInOut] *ngIf="isColumnVisible('contributorOccupation')">{{trx.contributorOccupation}}</td>
            <td [@fadeInOut] *ngIf="isColumnVisible('memoCode')">{{trx.memoCode}}</td>
            <td [@fadeInOut] *ngIf="isColumnVisible('memoText')">{{trx.memoText}}</td>
            <td [@fadeInOut] *ngIf="isRecycleBinViewActive()">{{trx.deletedDate | date: 'MM/dd/yyyy'}}</td>
            <td [@fadeInOut] *ngIf="isColumnVisible('amount')" class="transactions__amount">
              {{trx.amount | currency:'USD':'symbol-narrow':'1.2-2'}}
            </td>
            <td [@fadeInOut] *ngIf="isColumnVisible('aggregate')" class="transactions__amount">
              {{trx.aggregate | currency:'USD':'symbol-narrow':'1.2-2'}}
            <td>
              <div [@fadeInOut] *ngIf="isRecycleBinViewActive()">
                <span [title]="!trx.iseditable ? 'This transaction cannot be restored because it is auto generated.': ''">
                  <button class="btn btn-sm btn-primary" [disabled]="!trx.iseditable" (click)="restoreTransaction(trx)">
                    <i class="undo-icon"></i>
                  </button>
                </span>
              </div>
              <div *ngIf="!_allTransactions || (_allTransactions && trx.reportstatus !== 'Filed')">
                <div [@fadeInOut] *ngIf="isTransactionViewActive()" class="btn-group" ngbDropdown role="group"
                  aria-label="Action dropdown">
                  <button class="btn btn-sm btn-primary" ngbDropdownToggle>
                    <i class="ellipsis-icon"></i>
                  </button>
                  <div id="transactions__dropdown-action" class="dropdown-menu" ngbDropdownMenu>
                    <button *ngIf="trx.transactionTypeIdentifier === 'LOAN_FROM_IND' || trx.transactionTypeIdentifier === 'LOAN_FROM_BANK'" class="dropdown-item" (click)="viewTransaction(trx)">
                      <i class="view-icon"></i> View
                    </button>
                    <span [title]="!trx.iseditable ? 'This transaction cannot be edited because it is auto generated.':''">
                      <button [disabled]="!trx.iseditable" class="dropdown-item" (click)="editTransaction(trx)">
                        <i class="edit-icon"></i> Edit
                      </button>
                    </span>
                    <button class="dropdown-item" (click)="printTransaction(trx)">
                      <i class="fas fa-print"></i> Print
                    </button>
                    <span [title]="!trx.iseditable ? 'This transaction cannot be cloned because it is auto generated.':''">
                      <button [disabled]="!trx.iseditable" class="dropdown-item" (click)="cloneTransaction(trx)">
                        <i class="far fa-copy"></i> Clone
                      </button>
                    </span>
                    <span [title]="!trx.iseditable ? 'This transaction cannot be deleted because it is auto generated.':''">
                      <button [disabled]="!trx.iseditable" *ngIf="checkIfTrashable()" class="dropdown-item"
                        (click)="trashTransaction(trx)">
                        <i class="trash-icon"></i> Trash
                      </button>
                    </span>
                  </div>
                </div>
              </div>
              <div *ngIf="_allTransactions && trx.reportstatus === 'Filed'">
                <button class="btn btn-sm btn-primary" (click)="checkIfEditMode()">
                  <i class="ellipsis-icon"></i>
                </button>
              </div>
            </td>
          </tr>
          <tr [ngbCollapse]="trx.child? !trx.toggleChild: ''" *ngFor="let trxChild of trx.child;" class="child-bg">
            <td style="padding-left: 1.5rem;">
              <input [(ngModel)]="trxChild.selected" type="checkbox" (click)="checkForMultiChecked($event)">
            </td>
            <td [@fadeInOut] *ngIf="_allTransactions">{{trxChild.reportType}}</td>
            <td [@fadeInOut] *ngIf="isColumnVisible('type')" style="padding-left: 1.5rem;">{{trxChild.itemized ==='U' ? trxChild.type +' ('+ trxChild.itemized + ') ' : trxChild.type}}</td>
            <td [@fadeInOut] *ngIf="isColumnVisible('transactionId')">{{trxChild.transactionId}}</td>
            <td [@fadeInOut] *ngIf="isColumnVisible('name')">{{trxChild.name}}</td>
            <td [@fadeInOut] *ngIf="isColumnVisible('street')">{{trxChild.street}} {{trxChild.street2}}</td>
            <td [@fadeInOut] *ngIf="isColumnVisible('city')">{{trxChild.city}}</td>
            <td [@fadeInOut] *ngIf="isColumnVisible('state')">{{trxChild.state}}</td>
            <td [@fadeInOut] *ngIf="isColumnVisible('zip')">{{trxChild.zip | zipCode}}</td>
            <td [@fadeInOut] *ngIf="isColumnVisible('date')">{{trxChild.date | date: 'MM/dd/yyyy'}}</td>
            <td [@fadeInOut] *ngIf="isColumnVisible('purposeDescription')">{{trxChild.purposeDescription}}</td>
            <td [@fadeInOut] *ngIf="isColumnVisible('contributorEmployer')">{{trxChild.contributorEmployer}}</td>
            <td [@fadeInOut] *ngIf="isColumnVisible('contributorOccupation')">{{trxChild.contributorOccupation}}</td>
            <td [@fadeInOut] *ngIf="isColumnVisible('memoCode')">{{trxChild.memoCode}}</td>
            <td [@fadeInOut] *ngIf="isColumnVisible('memoText')">{{trxChild.memoText}}</td>
            <td [@fadeInOut] *ngIf="isRecycleBinViewActive()">{{trxChild.deletedDate | date: 'MM/dd/yyyy'}}</td>
            <td [@fadeInOut] *ngIf="isColumnVisible('amount')" class="transactions__amount">
              {{trxChild.amount | currency:'USD':'symbol-narrow':'1.2-2'}}
            </td>
            <td [@fadeInOut] *ngIf="isColumnVisible('aggregate')" class="transactions__amount">
              {{trxChild.aggregate | currency:'USD':'symbol-narrow':'1.2-2'}}
            <td>
              <div [@fadeInOut] *ngIf="isRecycleBinViewActive()">
                <span [title]="!trxChild.iseditable ? 'This transaction cannot be restored because it is either auto-generated or its parent is in deleted state.': ''">
                  <button class="btn btn-sm btn-primary" [disabled]="!trxChild.isEditable" (click)="restoreTransaction(trxChild)">
                    <i class="undo-icon"></i>
                  </button>
                </span>
              </div>
              <div *ngIf="!_allTransactions || (_allTransactions && trxChild.reportstatus !== 'Filed')">
                <div [@fadeInOut] *ngIf="isTransactionViewActive()" class="btn-group" ngbDropdown role="group"
                  aria-label="Action dropdown">
                  <button class="btn btn-sm btn-primary" ngbDropdownToggle>
                    <i class="ellipsis-icon"></i>
                  </button>
                  <div id="transactions__dropdown-action" class="dropdown-menu" ngbDropdownMenu>
                    <button class="dropdown-item" (click)="editTransaction(trxChild)">
                      <i class="edit-icon"></i> Edit
                    </button>
                    <button class="dropdown-item" (click)="printTransaction(trxChild)">
                      <i class="fas fa-print"></i> Print
                    </button>
                    <button class="dropdown-item" (click)="cloneTransaction(trxChild)">
                      <i class="far fa-copy"></i> Clone
                    </button>
                    <button *ngIf="checkIfTrashable()" class="dropdown-item" (click)="trashTransaction(trxChild)">
                      <i class="trash-icon"></i> Trash
                    </button>
                  </div>
                </div>
              </div>
              <div *ngIf="_allTransactions && trx.reportstatus === 'Filed'">
                <button class="btn btn-sm btn-primary" (click)="checkIfEditMode()">
                  <i class="ellipsis-icon"></i>
                </button>
              </div>
            </td>      
          </tr>
        </ng-container>
        
        <tr *ngIf="isTransactionViewActive()">
          <td></td>
          <td *ngIf="_allTransactions"></td>
          <td *ngIf="isColumnVisible('type')"></td>
          <td *ngIf="isColumnVisible('transactionId')"></td>
          <td *ngIf="isColumnVisible('name')"></td>
          <td *ngIf="isColumnVisible('street')"></td>
          <td *ngIf="isColumnVisible('city')"></td>
          <td *ngIf="isColumnVisible('state')"></td>
          <td *ngIf="isColumnVisible('zip')"></td>
          <td *ngIf="isColumnVisible('date')"></td>
          <td *ngIf="isColumnVisible('purposeDescription')"></td>
          <td *ngIf="isColumnVisible('contributorEmployer')"></td>
          <td *ngIf="isColumnVisible('contributorOccupation')"></td>
          <td *ngIf="isColumnVisible('memoCode')"></td>
          <td *ngIf="isColumnVisible('memoText')"></td>
          <td *ngIf="isRecycleBinViewActive()"></td>
          <td [@fadeInOut] *ngIf="isColumnVisible('amount')">
              <div class="transactions__total-amount-container">
                <div class="transactions__total-amount">
                  <b>Total</b>
                  <!-- <i class="info-icon transactions__total-amount-tip" ngbTooltip="Represents the total amount of transactions entered on the report. 
                                Those transactions that are memo entries are not added into the total amount."
                    tooltipClass="form-tooltip">
                  </i> -->

                  <i class="info-icon transactions__total-amount-tip" 
                    ngbTooltip="Represents the total amount of transactions entered on the report. 
                      Those transactions that are memo entries are not added into the total amount."
                    tooltipClass="transactions__tooltip"
                    triggers="click">
                  </i>

                </div>
                <div class="transactions__total-amount-val">
                  <b>{{totalAmount | currency:'USD':'symbol-narrow':'1.2-2'}}</b>
                </div>
              </div>
          </td>
          <td *ngIf="isColumnVisible('aggregate')"></td>
          <td></td>
        </tr>
      </tbody>
    </table>

    <!--Disbursements transaction table-->
    <table class="table table-striped table-hover table__sortable transactions__table" *ngIf="transactionCategory === 'disbursements'">
        <thead>
          <tr>
            <th class="transactions__table-checkbox">
              <input 
                [@fadeInOut] [(ngModel)]="allTransactionsSelected" type="checkbox"
                (change)="changeAllTransactionsSelected()">
            </th>
            <th [@fadeInOut] *ngIf="_allTransactions" [class]="getSortClass('reportType')" (click)="changeSortDirection('reportType')">Report Type
            </th>
            <th [@fadeInOut] *ngIf="isColumnVisible('type')" [class]="getSortClass('type')" (click)="changeSortDirection('type')">Type
            </th>
            <th [@fadeInOut] *ngIf="isColumnVisible('name')" [class]="getSortClass('name')" (click)="changeSortDirection('name')">Name
            </th>
            <th [@fadeInOut] *ngIf="isColumnVisible('date')" [class]="getSortClass('date')" (click)="changeSortDirection('date')">Date
            </th>
            <th [@fadeInOut] *ngIf="isColumnVisible('memoCode')" [class]="getSortClass('memoCode')"
              (click)="changeSortDirection('memoCode')">Memo
            </th>
            <th [@fadeInOut] *ngIf="isColumnVisible('amount')" [class]="getSortClass('amount')" (click)="changeSortDirection('amount')">
                Amount
            </th>
            <th [@fadeInOut] *ngIf="isColumnVisible('purposeDescription')" [class]="getSortClass('purposeDescription')"
              (click)="changeSortDirection('purposeDescription')">Purpose
            </th>
            <th [@fadeInOut] *ngIf="isColumnVisible('transactionId')" [class]="getSortClass('transactionId')" (click)="changeSortDirection('transactionId')">Transaction Id
              </th>
            <th [@fadeInOut] *ngIf="isColumnVisible('street')" [class]="getSortClass('street')" (click)="changeSortDirection('street')">
              Street
            </th>
            <th [@fadeInOut] *ngIf="isColumnVisible('city')" [class]="getSortClass('city')" (click)="changeSortDirection('city')">City
            </th>
            <th [@fadeInOut] *ngIf="isColumnVisible('state')" [class]="getSortClass('state')" (click)="changeSortDirection('state')">
              State
            </th>
            <th [@fadeInOut] *ngIf="isColumnVisible('zip')" [class]="getSortClass('zip')" (click)="changeSortDirection('zip')">Zip
            </th>
            <th [@fadeInOut] *ngIf="isColumnVisible('memoText')" [class]="getSortClass('memoText')"
              (click)="changeSortDirection('memoText')">Memo Text
            </th>
            <th [@fadeInOut] *ngIf="isRecycleBinViewActive()" [class]="getSortClass('deletedDate')"
            (click)="changeSortDirection('deletedDate')">Deleted Date
            </th>
            <th [@fadeInOut] *ngIf="isColumnVisible('committeeId')" [class]="getSortClass('committeeId')"
              (click)="changeSortDirection('committeeId')">Donor Committee ID
            </th>
            <th [@fadeInOut] *ngIf="isColumnVisible('electionCode')" [class]="getSortClass('electionCode')"
              (click)="changeSortDirection('electionCode')">Election Code
            </th>
            <th [@fadeInOut] *ngIf="isColumnVisible('electionYear')" [class]="getSortClass('electionYear')"
              (click)="changeSortDirection('electionYear')">Election Year
            </th>
            <th class="bulk_action">
              <div *ngIf="editMode">
                <div [@fadeInOut] *ngIf="isTransactionViewActive()" class="btn-group" ngbDropdown role="group"
                  aria-label="Action dropdown">
                  <button class="btn btn-sm btn-primary transactions__bulk_action_btn" ngbDropdownToggle
                    [disabled]="bulkActionDisabled">
                    <i class="ellipsis-icon"></i>
                  </button>
                  <div id="transactions__dropdown-action" class="dropdown-menu" ngbDropdownMenu>
                    <button class="dropdown-item" (click)="printAllSelected()">
                      <i class="print-icon"></i> Print
                    </button>
                    <button class="dropdown-item" (click)="exportAllSelected()">
                      <i class="file-export-icon"></i> Export
                    </button>
                    <button *ngIf="checkIfTrashable()" 
                    class="dropdown-item" (click)="trashAllSelected()">
                      <i class="trash-icon"></i> Trash
                    </button>
                  </div>
                </div>
              </div>
              <div *ngIf="!editMode">
                <button class="btn btn-sm btn-primary" (click)="checkIfEditMode()">
                  <i class="ellipsis-icon"></i>
                </button>
              </div>
              <div [@fadeInOut] *ngIf="isRecycleBinViewActive()">
                <button class="btn btn-sm btn-primary transactions__bulk_action_btn" 
                  (click)="deleteRecyleBin()"
                  [disabled]="bulkActionDisabled">
                  <i class="trash-icon"></i>
                </button>
              </div>          
            </th>
          </tr>
        </thead>
        <tbody>
            
          <ng-container *ngFor="let trx of transactionsModel | paginate: config; let i = index;">
            <tr>
              <td>
                <input [(ngModel)]="trx.selected" type="checkbox" (click)="checkForMultiChecked($event)">
              </td>
              <td [@fadeInOut] *ngIf="_allTransactions">{{trx.reportType}}</td>
              <td [@fadeInOut] *ngIf="isColumnVisible('type')">
                {{trx.itemized ==='U' ? trx.type +' ('+ trx.itemized + ') ' : trx.type}}</td>
              <td [@fadeInOut] [ngClass]="trx.child ? 'parent': ''" (click)="trx.child? trx.toggleChild = !trx.toggleChild: ''"
                *ngIf="isColumnVisible('name')">{{trx.name}}
                <div *ngIf="trx.child" class="align_right arrow" [ngClass]="trx.toggleChild ? 'arrow-top' : 'arrow-bottom'"></div>
              </td>
              <td [@fadeInOut] *ngIf="isColumnVisible('date')">{{trx.date | date: 'MM/dd/yyyy'}}</td>
              <td [@fadeInOut] *ngIf="isColumnVisible('memoCode')">{{trx.memoCode}}</td>
              <td [@fadeInOut] *ngIf="isColumnVisible('amount')" class="transactions__amount">
                {{trx.amount | currency:'USD':'symbol-narrow':'1.2-2'}}
              </td>
              <td [@fadeInOut] *ngIf="isColumnVisible('purposeDescription')">{{trx.purposeDescription}}</td>
              <td [@fadeInOut] *ngIf="isColumnVisible('transactionId')">{{trx.transactionId}}</td>
              <td [@fadeInOut] *ngIf="isColumnVisible('street')">{{trx.street}} {{trx.street2}}</td>
              <td [@fadeInOut] *ngIf="isColumnVisible('city')">{{trx.city}}</td>
              <td [@fadeInOut] *ngIf="isColumnVisible('state')">{{trx.state}}</td>
              <td [@fadeInOut] *ngIf="isColumnVisible('zip')">{{trx.zip | zipCode}}</td>
              <td [@fadeInOut] *ngIf="isColumnVisible('memoText')">{{trx.memoText}}</td>
              <td [@fadeInOut] *ngIf="isRecycleBinViewActive()">{{trx.deletedDate | date: 'MM/dd/yyyy'}}</td>
              <td [@fadeInOut] *ngIf="isColumnVisible('committeeId')">{{committeeDetails.committeeid}}</td>
              <td [@fadeInOut] *ngIf="isColumnVisible('electionCode')">{{trx.electionCode}}</td>
              <td [@fadeInOut] *ngIf="isColumnVisible('electionYear')">{{trx.electionYear}}</td>
              <td>
                <div [@fadeInOut] *ngIf="isRecycleBinViewActive()">
                  <span [title]="!trx.iseditable ? 'This transaction cannot be restored because it is auto generated.': ''">
                    <button class="btn btn-sm btn-primary" [disabled]="!trx.iseditable" (click)="restoreTransaction(trx)">
                      <i class="undo-icon"></i>
                    </button>
                  </span>
                </div>
                <div *ngIf="!_allTransactions || (_allTransactions && trx.reportstatus !== 'Filed')">
                  <div [@fadeInOut] *ngIf="isTransactionViewActive()" class="btn-group" ngbDropdown role="group"
                    aria-label="Action dropdown">
                    <button class="btn btn-sm btn-primary" ngbDropdownToggle>
                      <i class="ellipsis-icon"></i>
                    </button>
                    <div id="transactions__dropdown-action" class="dropdown-menu" ngbDropdownMenu>
                      <button *ngIf="trx.transactionTypeIdentifier === 'IK_OUT'" class="dropdown-item" (click)="viewTransaction(trx)">
                        <i class="view-icon"></i> View
                      </button>
                      <span [title]="!trx.iseditable ? 'This transaction cannot be edited because it is autogenerated.':''">
                        <button [disabled]="!trx.iseditable" class="dropdown-item" (click)="editTransaction(trx)">
                          <i class="edit-icon"></i> Edit
                        </button>
                      </span>
                      <button class="dropdown-item" (click)="printTransaction(trx)">
                        <i class="fas fa-print"></i> Print
                      </button>
                      <span [title]="!trx.iseditable ? 'This transaction cannot be cloned because it is autogenerated.':''">
                        <button class="dropdown-item" [disabled]="!trx.iseditable" (click)="cloneTransaction(trx)">
                          <i class="far fa-copy"></i> Clone
                        </button>
                      </span>
                      <span [title]="!trx.iseditable ? 'This transaction cannot be deleted because it is auto generated.':''">
                        <button [disabled]="!trx.iseditable" *ngIf="checkIfTrashable()" 
                        class="dropdown-item"
                          (click)="trashTransaction(trx)">
                          <i class="trash-icon"></i> Trash
                        </button>
                      </span>
                    </div>
                  </div>
                </div>
                <div *ngIf="_allTransactions && trx.reportstatus === 'Filed'">
                  <button class="btn btn-sm btn-primary" (click)="checkIfEditMode()">
                    <i class="ellipsis-icon"></i>
                  </button>
                </div>
              </td>
            </tr>
            <tr [ngbCollapse]="trx.child? !trx.toggleChild: ''" *ngFor="let trxChild of trx.child;" class="child-bg">
              <td style="padding-left: 1.5rem;">
                <input [(ngModel)]="trxChild.selected" type="checkbox" (click)="checkForMultiChecked($event)">
              </td>
              <td [@fadeInOut] *ngIf="_allTransactions">{{trxChild.reportType}}</td>
              <td [@fadeInOut] *ngIf="isColumnVisible('type')" style="padding-left: 1.5rem;">{{trxChild.itemized ==='U' ? trxChild.type +' ('+ trxChild.itemized + ') ' : trxChild.type}}</td>
              <td [@fadeInOut] *ngIf="isColumnVisible('name')">{{trxChild.name}}</td>
              <td [@fadeInOut] *ngIf="isColumnVisible('date')">{{trxChild.date | date: 'MM/dd/yyyy'}}</td>
              <td [@fadeInOut] *ngIf="isColumnVisible('memoCode')">{{trxChild.memoCode}}</td>
              <td [@fadeInOut] *ngIf="isColumnVisible('amount')" class="transactions__amount">
                  {{trxChild.amount | currency:'USD':'symbol-narrow':'1.2-2'}}
                </td>
              <td [@fadeInOut] *ngIf="isColumnVisible('purposeDescription')">{{trxChild.purposeDescription}}</td>
              <td [@fadeInOut] *ngIf="isColumnVisible('transactionId')">{{trxChild.transactionId}}</td>
              <td [@fadeInOut] *ngIf="isColumnVisible('street')">{{trxChild.street}} {{trxChild.street2}}</td>
              <td [@fadeInOut] *ngIf="isColumnVisible('city')">{{trxChild.city}}</td>
              <td [@fadeInOut] *ngIf="isColumnVisible('state')">{{trxChild.state}}</td>
              <td [@fadeInOut] *ngIf="isColumnVisible('zip')">{{trxChild.zip | zipCode}}</td>
              <td [@fadeInOut] *ngIf="isColumnVisible('memoText')">{{trxChild.memoText}}</td>
              <td [@fadeInOut] *ngIf="isRecycleBinViewActive()">{{trxChild.deletedDate | date: 'MM/dd/yyyy'}}</td>
              <td [@fadeInOut] *ngIf="isColumnVisible('committeeId')">{{committeeDetails.committeeid}}</td>
              <td [@fadeInOut] *ngIf="isColumnVisible('electionCode')">{{trxChild.electionCode}}</td>
              <td [@fadeInOut] *ngIf="isColumnVisible('electionYear')">{{trxChild.electionYear}}</td>
              <td>
                <div [@fadeInOut] *ngIf="isRecycleBinViewActive()">
                  <span [title]="!trxChild.iseditable ? 'This transaction cannot be restored because it is either auto-generated or its parent is in deleted state.': ''">
                    <button class="btn btn-sm btn-primary" [disabled]="!trxChild.isEditable" (click)="restoreTransaction(trxChild)">
                      <i class="undo-icon"></i>
                    </button>
                  </span>
                </div>
                <div *ngIf="!_allTransactions || (_allTransactions && trxChild.reportstatus !== 'Filed')">
                  <div [@fadeInOut] *ngIf="isTransactionViewActive()" class="btn-group" ngbDropdown role="group"
                    aria-label="Action dropdown">
                    <button class="btn btn-sm btn-primary" ngbDropdownToggle>
                      <i class="ellipsis-icon"></i>
                    </button>
                    <div id="transactions__dropdown-action" class="dropdown-menu" ngbDropdownMenu>
                      <button *ngIf="trx.transactionTypeIdentifier === 'IK_OUT'" class="dropdown-item" (click)="viewTransaction(trx)">
                        <i class="view-icon"></i> View
                      </button>
                      <button class="dropdown-item" (click)="editTransaction(trxChild)">
                        <i class="edit-icon"></i> Edit
                      </button>
                      <button class="dropdown-item" (click)="printTransaction(trxChild)">
                        <i class="fas fa-print"></i> Print
                      </button>
                      <button class="dropdown-item" (click)="cloneTransaction(trxChild)">
                        <i class="far fa-copy"></i> Clone
                      </button>
                      <button *ngIf="checkIfTrashable()" class="dropdown-item" (click)="trashTransaction(trxChild)">
                        <i class="trash-icon"></i> Trash
                      </button>
                    </div>
                  </div>
                </div>
                <div *ngIf="_allTransactions && trx.reportstatus === 'Filed'">
                  <button class="btn btn-sm btn-primary" (click)="checkIfEditMode()">
                    <i class="ellipsis-icon"></i>
                  </button>
                </div>
              </td>      
            </tr>
          </ng-container>
          
          <tr *ngIf="isTransactionViewActive()">
            <td></td>
            <td *ngIf="_allTransactions"></td>
            <td *ngIf="isColumnVisible('type')"></td>
            <td *ngIf="isColumnVisible('name')"></td>
            <td *ngIf="isColumnVisible('date')"></td>
            <td *ngIf="isColumnVisible('memoCode')"></td>
            <td [@fadeInOut] *ngIf="isColumnVisible('amount')">
                <div class="transactions__total-amount-container">
                  <div class="transactions__total-amount">
                    <b>Total</b>
                    <i class="info-icon transactions__total-amount-tip" 
                      ngbTooltip="Represents the total amount of transactions entered on the report. 
                        Those transactions that are memo entries are not added into the total amount."
                      tooltipClass="transactions__tooltip"
                      triggers="click">
                    </i>
                  </div>
                  <div class="transactions__total-amount-val">
                    <b>{{totalAmount | currency:'USD':'symbol-narrow':'1.2-2'}}</b>
                  </div>
                </div>
            </td>
            <td *ngIf="isColumnVisible('purposeDescription')"></td>
            <td *ngIf="isColumnVisible('transactionId')"></td>
            <td *ngIf="isColumnVisible('street')"></td>
            <td *ngIf="isColumnVisible('city')"></td>
            <td *ngIf="isColumnVisible('state')"></td>
            <td *ngIf="isColumnVisible('zip')"></td>
            <td *ngIf="isColumnVisible('memoText')"></td>
            <td *ngIf="isColumnVisible('committeeId')"></td>
            <td *ngIf="isColumnVisible('electionCode')"></td>
            <td *ngIf="isColumnVisible('electionYear')"></td>
            <td *ngIf="isRecycleBinViewActive()"></td>
            <td></td>
          </tr>
        </tbody>
      </table>
    
    <!--Loans and debts transaction table-->
    <table class="table table-striped table-hover table__sortable transactions__table" *ngIf="transactionCategory === 'loans-and-debts'">
        <thead>
          <tr>
            <th class="transactions__table-checkbox">
              <input 
                [@fadeInOut] [(ngModel)]="allTransactionsSelected" type="checkbox"
                (change)="changeAllTransactionsSelected()">
            </th>
            <th [@fadeInOut] *ngIf="_allTransactions" [class]="getSortClass('reportType')" (click)="changeSortDirection('reportType')">Report Type
            </th>
            <th [@fadeInOut] *ngIf="isColumnVisible('type')" [class]="getSortClass('type')" (click)="changeSortDirection('type')">Transaction Type
            </th>
            <th [@fadeInOut] *ngIf="isColumnVisible('name')" [class]="getSortClass('name')" (click)="changeSortDirection('name')">Name
            </th>
            <th [@fadeInOut] *ngIf="isColumnVisible('date')" [class]="getSortClass('date')" (click)="changeSortDirection('date')">Date
            </th>
            <th [@fadeInOut] *ngIf="isColumnVisible('memoCode')" [class]="getSortClass('memoCode')"
              (click)="changeSortDirection('memoCode')">Memo
            </th>
            <th [@fadeInOut] *ngIf="isColumnVisible('loanBeginningBalance')" [class]="getSortClass('loanBeginningBalance')" (click)="changeSortDirection('loanBeginningBalance')">
              Beginning Balance (D)
            </th>
            <th [@fadeInOut] *ngIf="isColumnVisible('purposeDescription')" [class]="getSortClass('purposeDescription')"
              (click)="changeSortDirection('purposeDescription')">Purpose of Debt (D)
            </th>
            <th [@fadeInOut] *ngIf="isColumnVisible('transactionId')" [class]="getSortClass('transactionId')" (click)="changeSortDirection('transactionId')">Transaction Id
              </th>
            <th [@fadeInOut] *ngIf="isColumnVisible('street')" [class]="getSortClass('street')" (click)="changeSortDirection('street')">
              Street
            </th>
            <th [@fadeInOut] *ngIf="isColumnVisible('city')" [class]="getSortClass('city')" (click)="changeSortDirection('city')">City
            </th>
            <th [@fadeInOut] *ngIf="isColumnVisible('state')" [class]="getSortClass('state')" (click)="changeSortDirection('state')">
              State
            </th>
            <th [@fadeInOut] *ngIf="isColumnVisible('zip')" [class]="getSortClass('zip')" (click)="changeSortDirection('zip')">Zip
            </th>
            <th [@fadeInOut] *ngIf="isColumnVisible('memoText')" [class]="getSortClass('memoText')"
              (click)="changeSortDirection('memoText')">Memo/Text Description
            </th>
            <th [@fadeInOut] *ngIf="isRecycleBinViewActive()" [class]="getSortClass('deletedDate')"
              (click)="changeSortDirection('deletedDate')">Deleted Date
            </th>
            <th [@fadeInOut] *ngIf="isColumnVisible('loanIncurredAmt')" [class]="getSortClass('loanIncurredAmt')"
              (click)="changeSortDirection('loanIncurredAmt')">Incurred Amount (D)
            </th>
            <th [@fadeInOut] *ngIf="isColumnVisible('loanPaymentAmt')" [class]="getSortClass('loanPaymentAmt')"
              (click)="changeSortDirection('loanPaymentAmt')">Payment Amount (D)
            </th>
            <th [@fadeInOut] *ngIf="isColumnVisible('loanClosingBalance')" [class]="getSortClass('loanClosingBalance')"
              (click)="changeSortDirection('loanClosingBalance')">Balance at Close (D)
            </th>
            <th [@fadeInOut] *ngIf="isColumnVisible('loanAmount')" [class]="getSortClass('loanAmount')"
              (click)="changeSortDirection('loanAmount')">Loan Amount (C)
            </th>
            <th [@fadeInOut] *ngIf="isColumnVisible('loanPaymentToDate')" [class]="getSortClass('loanPaymentToDate')"
              (click)="changeSortDirection('loanPaymentToDate')">Loan Payment to Date (C)
            </th>
            <th [@fadeInOut] *ngIf="isColumnVisible('loanBalance')" [class]="getSortClass('loanBalance')"
              (click)="changeSortDirection('loanBalance')">Loan Balance (C)
            </th>
            <th [@fadeInOut] *ngIf="isColumnVisible('loanIncurredDate')" [class]="getSortClass('loanIncurredDate')"
              (click)="changeSortDirection('loanIncurredDate')">Loan Incurred Date (C)
            </th>
            <th [@fadeInOut] *ngIf="isColumnVisible('loanDueDate')" [class]="getSortClass('loanDueDate')"
              (click)="changeSortDirection('loanDueDate')">Loan Due Date (C)
            </th>
            <th class="bulk_action">
              <div *ngIf="editMode">
                <div [@fadeInOut] *ngIf="isTransactionViewActive()" class="btn-group" ngbDropdown role="group"
                  aria-label="Action dropdown">
                  <button class="btn btn-sm btn-primary transactions__bulk_action_btn" ngbDropdownToggle
                    [disabled]="bulkActionDisabled">
                    <i class="ellipsis-icon"></i>
                  </button>
                  <div id="transactions__dropdown-action" class="dropdown-menu" ngbDropdownMenu>
                    <button class="dropdown-item" (click)="printAllSelected()">
                      <i class="print-icon"></i> Print
                    </button>
                    <button class="dropdown-item" (click)="exportAllSelected()">
                      <i class="file-export-icon"></i> Export
                    </button>
                    <button *ngIf="checkIfTrashable()" class="dropdown-item" (click)="trashAllSelected()">
                      <i class="trash-icon"></i> Trash
                    </button>
                  </div>
                </div>
              </div>
              <div *ngIf="!editMode">
                <button class="btn btn-sm btn-primary" (click)="checkIfEditMode()">
                  <i class="ellipsis-icon"></i>
                </button>
              </div>
              <div [@fadeInOut] *ngIf="isRecycleBinViewActive()">
                <button class="btn btn-sm btn-primary transactions__bulk_action_btn" 
                  (click)="deleteRecyleBin()"
                  [disabled]="bulkActionDisabled">
                  <i class="trash-icon"></i>
                </button>
              </div>          
            </th>
          </tr>
        </thead>
        <tbody>
          <ng-container *ngFor="let trx of transactionsModel | paginate: config; let i = index;">
            <tr>
              <td>
                <input [(ngModel)]="trx.selected" type="checkbox" (click)="checkForMultiChecked($event)">
              </td>
              <td [@fadeInOut] *ngIf="_allTransactions">{{trx.reportType}}</td>
              <td [@fadeInOut] *ngIf="isColumnVisible('type')">
                {{trx.itemized ==='U' ? trx.type +' ('+ trx.itemized + ') ' : trx.type}}</td>
              
              <td [@fadeInOut] [ngClass]="showRow(trx,'sched_c1') || showRow(trx,'sched_c2') ? 'parent': ''" 
              (click)="trx?.entityType === 'ORG' && (trx?.transactionTypeIdentifier === 'LOANS_OWED_BY_CMTE' || trx?.transactionTypeIdentifier === 'LOANS_OWED_TO_CMTE') ? trx.toggleChild = !trx.toggleChild: ''"
                *ngIf="isColumnVisible('name')">{{trx.name}}
                <div *ngIf="showRow(trx,'sched_c1') || showRow(trx,'sched_c2')" class="align_right arrow" [ngClass]="trx.toggleChild ? 'arrow-top' : 'arrow-bottom'"></div>
              </td>
              <td [@fadeInOut] *ngIf="isColumnVisible('date')">{{trx.date | date: 'MM/dd/yyyy'}}</td>
              <td [@fadeInOut] *ngIf="isColumnVisible('memoCode')">{{trx.memoCode}}</td>
              <td [@fadeInOut] *ngIf="isColumnVisible('loanBeginningBalance')" class="transactions__amount">
                {{trx.loanBeginningBalance | currency:'USD':'symbol-narrow':'1.2-2'}}
              </td>
              <td [@fadeInOut] *ngIf="isColumnVisible('purposeDescription')">{{trx.purposeDescription}}</td>
              <td [@fadeInOut] *ngIf="isColumnVisible('transactionId')">{{trx.transactionId}}</td>
              <td [@fadeInOut] *ngIf="isColumnVisible('street')">{{trx.street}} {{trx.street2}}</td>
              <td [@fadeInOut] *ngIf="isColumnVisible('city')">{{trx.city}}</td>
              <td [@fadeInOut] *ngIf="isColumnVisible('state')">{{trx.state}}</td>
              <td [@fadeInOut] *ngIf="isColumnVisible('zip')">{{trx.zip | zipCode}}</td>
              <td [@fadeInOut] *ngIf="isColumnVisible('memoText')">{{trx.memoText}}</td>
              <td [@fadeInOut] *ngIf="isRecycleBinViewActive()">{{trx.deletedDate | date: 'MM/dd/yyyy'}}</td>
              <td [@fadeInOut] *ngIf="isColumnVisible('loanIncurredAmt')">{{trx.loanIncurredAmt | currency:'USD':'symbol-narrow':'1.2-2'}}</td>
              <td [@fadeInOut] *ngIf="isColumnVisible('loanPaymentAmt')">{{trx.loanPaymentAmt | currency:'USD':'symbol-narrow':'1.2-2'}}</td>
              <td [@fadeInOut] *ngIf="isColumnVisible('loanClosingBalance')">{{trx.loanClosingBalance | currency:'USD':'symbol-narrow':'1.2-2'}}</td>
              <td [@fadeInOut] *ngIf="isColumnVisible('loanAmount')">{{trx.loanAmount | currency:'USD':'symbol-narrow':'1.2-2'}}</td>
              <td [@fadeInOut] *ngIf="isColumnVisible('loanPaymentToDate')">{{trx.loanPaymentToDate}}</td>
              <td [@fadeInOut] *ngIf="isColumnVisible('loanBalance')">{{trx.loanBalance | currency:'USD':'symbol-narrow':'1.2-2'}}</td>
              <td [@fadeInOut] *ngIf="isColumnVisible('loanIncurredDate')">{{trx.loanIncurredDate | date: 'MM/dd/yyyy'}}</td>
              <td [@fadeInOut] *ngIf="isColumnVisible('loanDueDate')">{{trx.loanDueDate}}</td>
              <td>
                <div [@fadeInOut] *ngIf="isRecycleBinViewActive()">
                  <button class="btn btn-sm btn-primary" (click)="restoreTransaction(trx)">
                    <i class="undo-icon"></i>
                  </button>
                </div>
                <div *ngIf="!_allTransactions || (_allTransactions && trx.reportstatus !== 'Filed')">
                  <div [@fadeInOut] *ngIf="isTransactionViewActive()" class="btn-group" ngbDropdown role="group"
                    aria-label="Action dropdown">
                    <button class="btn btn-sm btn-primary" ngbDropdownToggle>
                      <i class="ellipsis-icon"></i>
                    </button>
                    <div id="transactions__dropdown-action" class="dropdown-menu" ngbDropdownMenu>
                      <button class="dropdown-item" (click)="editTransaction(trx)">
                        <i class="edit-icon"></i> Edit
                      </button>
                      <button class="dropdown-item" (click)="printTransaction(trx)">
                        <i class="fas fa-print"></i> Print
                      </button>
                      <button *ngIf="checkIfTrashable()" class="dropdown-item"
                        (click)="trashTransaction(trx)">
                        <i class="trash-icon"></i> Trash
                      </button>
                    <button class="dropdown-item" (click)="goToLoanRepayment(trx)" *ngIf="trx.apiCall === '/sc/schedC'">
                      <i class="print-icon"></i> Loan repayment
                    </button>
                    <button class="dropdown-item" (click)="goToDebtPayment(trx)" *ngIf="trx.apiCall === '/sd/schedD'">
                      <i class="print-icon"></i> Make a payment
                    </button>
                    </div>
                  </div>
                </div>
                <div *ngIf="_allTransactions && trx.reportstatus === 'Filed'">
                  <button class="btn btn-sm btn-primary" (click)="checkIfEditMode()">
                    <i class="ellipsis-icon"></i>
                  </button>
                </div>
              </td>
            </tr>
            <tr *ngIf="showRow(trx,'sched_c1')"
            [ngbCollapse]="trx?.entityType === 'ORG' && (trx?.transactionTypeIdentifier === 'LOANS_OWED_BY_CMTE' || trx?.transactionTypeIdentifier === 'LOANS_OWED_TO_CMTE') ? !trx.toggleChild: ''"
              class="child-bg">
              <td style="padding-left: 70px;" colspan="5">Schedule C1</td>
              <td>
                <div [@fadeInOut] class="btn-group" ngbDropdown role="group" aria-label="Action dropdown">
                  <button class="btn btn-sm btn-primary" ngbDropdownToggle [disabled]="!bulkActionDisabled">
                    <i class="ellipsis-icon"></i>
                  </button>
                  <div id="loanSumamry__dropdown-action" class="dropdown-menu" ngbDropdownMenu>
                    <button class="dropdown-item" (click)="goToC1(trx)">
                      <i class="edit-icon"></i> Edit
                    </button>
                  </div>
                </div>
              </td>
            </tr>
            <tr *ngIf="showRow(trx,'sched_c2')" 
            [ngbCollapse]="trx?.entityType === 'ORG' && (trx?.transactionTypeIdentifier === 'LOANS_OWED_BY_CMTE' || trx?.transactionTypeIdentifier === 'LOANS_OWED_TO_CMTE') ? !trx.toggleChild: ''"
            class="child-bg">
            <td style="padding-left: 70px;" colspan="5">Endorsers</td>
            <td>
              <div [@fadeInOut] class="btn-group" ngbDropdown role="group" aria-label="Action dropdown">
                <button class="btn btn-sm btn-primary" ngbDropdownToggle [disabled]="!bulkActionDisabled">
                  <i class="ellipsis-icon"></i>
                </button>
                <div id="loanSumamry__dropdown-action" class="dropdown-menu" ngbDropdownMenu>
                  <button class="dropdown-item" (click)="goToEndorsersSummary(trx)">
                    <i class="edit-icon"></i> Edit
                  </button>
                </div>
              </div>
            </td>
          </tr>
          </ng-container>
          
          <!-- <tr *ngIf="isTransactionViewActive()">
            <td></td>
            <td *ngIf="isColumnVisible('type')"></td>
            <td *ngIf="isColumnVisible('transactionId')"></td>
            <td *ngIf="isColumnVisible('name')"></td>
            <td *ngIf="isColumnVisible('street')"></td>
            <td *ngIf="isColumnVisible('city')"></td>
            <td *ngIf="isColumnVisible('state')"></td>
            <td *ngIf="isColumnVisible('zip')"></td>
            <td *ngIf="isColumnVisible('date')"></td>
            <td *ngIf="isColumnVisible('purposeDescription')"></td>
            <td *ngIf="isColumnVisible('contributorEmployer')"></td>
            <td *ngIf="isColumnVisible('contributorOccupation')"></td>
            <td *ngIf="isColumnVisible('memoCode')"></td>
            <td *ngIf="isColumnVisible('memoText')"></td>
            <td *ngIf="isRecycleBinViewActive()"></td>
            <td [@fadeInOut] *ngIf="isColumnVisible('amount')">
                <div class="transactions__total-amount-container">
                  <div class="transactions__total-amount">
                    <b>Total</b>
    
                    <i class="info-icon transactions__total-amount-tip" 
                      ngbTooltip="Represents the total amount of transactions entered on the report. 
                        Those transactions that are memo entries are not added into the total amount."
                      tooltipClass="transactions__tooltip"
                      triggers="click">
                    </i>
    
                  </div>
                  <div class="transactions__total-amount-val">
                    <b>{{totalAmount | currency:'USD':'symbol-narrow':'1.2-2'}}</b>
                  </div>
                </div>
            </td>
            <td *ngIf="isColumnVisible('aggregate')"></td>
            <td></td>
          </tr> -->
        </tbody>
      </table>

    <!--Other transaction table-->
    <table class="table table-striped table-hover table__sortable transactions__table" *ngIf="transactionCategory === 'other'">
        <thead>
          <tr>
            <th class="transactions__table-checkbox">
              <input 
                [@fadeInOut] [(ngModel)]="allTransactionsSelected" type="checkbox"
                (change)="changeAllTransactionsSelected()">
            </th>
            <th [@fadeInOut] *ngIf="_allTransactions" [class]="getSortClass('reportType')" (click)="changeSortDirection('reportType')">Report Type
            </th>
            <th [@fadeInOut] *ngIf="isColumnVisible('schedule')" [class]="getSortClass('schedule')" (click)="changeSortDirection('schedule')">Schedule
            </th>
            <th [@fadeInOut] *ngIf="isColumnVisible('type')" [class]="getSortClass('type')" (click)="changeSortDirection('type')">Transaction Type
            </th>
            <th [@fadeInOut] *ngIf="isColumnVisible('name')" [class]="getSortClass('name')" (click)="changeSortDirection('name')">Name
            </th>
            <th [@fadeInOut] *ngIf="isColumnVisible('date')" [class]="getSortClass('date')" (click)="changeSortDirection('date')">Date
            </th>
            <th [@fadeInOut] *ngIf="isColumnVisible('memoCode')" [class]="getSortClass('memoCode')"
              (click)="changeSortDirection('memoCode')">Memo
            </th>
            <th [@fadeInOut] *ngIf="isColumnVisible('amount')" [class]="getSortClass('amount')" (click)="changeSortDirection('amount')">
                Amount
            </th>
            <th [@fadeInOut] *ngIf="isColumnVisible('purposeDescription')" [class]="getSortClass('purposeDescription')"
              (click)="changeSortDirection('purposeDescription')">Purpose
            </th>
            <th [@fadeInOut] *ngIf="isColumnVisible('transactionId')" [class]="getSortClass('transactionId')" (click)="changeSortDirection('transactionId')">Transaction Id
              </th>
            <th [@fadeInOut] *ngIf="isColumnVisible('street')" [class]="getSortClass('street')" (click)="changeSortDirection('street')">
              Street
            </th>
            <th [@fadeInOut] *ngIf="isColumnVisible('city')" [class]="getSortClass('city')" (click)="changeSortDirection('city')">City
            </th>
            <th [@fadeInOut] *ngIf="isColumnVisible('state')" [class]="getSortClass('state')" (click)="changeSortDirection('state')">
              State
            </th>
            <th [@fadeInOut] *ngIf="isColumnVisible('zip')" [class]="getSortClass('zip')" (click)="changeSortDirection('zip')">Zip
            </th>
            <th [@fadeInOut] *ngIf="isColumnVisible('memoText')" [class]="getSortClass('memoText')"
              (click)="changeSortDirection('memoText')">Memo Text
            </th>
            <th [@fadeInOut] *ngIf="isColumnVisible('eventId')" [class]="getSortClass('eventId')"
              (click)="changeSortDirection('eventId')">Activity or Event Identifier
            </th>
            <th class="bulk_action">
              <div *ngIf="editMode">
                <div [@fadeInOut] *ngIf="isTransactionViewActive()" class="btn-group" ngbDropdown role="group"
                  aria-label="Action dropdown">
                  <button class="btn btn-sm btn-primary transactions__bulk_action_btn" ngbDropdownToggle
                    [disabled]="bulkActionDisabled">
                    <i class="ellipsis-icon"></i>
                  </button>
                  <div id="transactions__dropdown-action" class="dropdown-menu" ngbDropdownMenu>
                    <button class="dropdown-item" (click)="printAllSelected()">
                      <i class="print-icon"></i> Print
                    </button>
                    <button class="dropdown-item" (click)="exportAllSelected()">
                      <i class="file-export-icon"></i> Export
                    </button>
                    <button *ngIf="checkIfTrashable()" class="dropdown-item" (click)="trashAllSelected()">
                      <i class="trash-icon"></i> Trash
                    </button>
                  </div>
                </div>
              </div>
              <div *ngIf="!editMode">
                  <div [@fadeInOut] *ngIf="isTransactionViewActive()" class="btn-group"role="group"
                  aria-label="Action dropdown">
                <button class="btn btn-sm btn-primary" (click)="checkIfEditMode()">
                  <i class="ellipsis-icon"></i>
                </button>
                </div>
              </div>
              <div [@fadeInOut] *ngIf="isRecycleBinViewActive()">
                <button class="btn btn-sm btn-primary transactions__bulk_action_btn" 
                  (click)="deleteRecyleBin()"
                  [disabled]="bulkActionDisabled">
                  <i class="trash-icon"></i>
                </button>
              </div>          
            </th>
          </tr>
        </thead>
        <tbody>
            
          <ng-container *ngFor="let trx of transactionsModel | paginate: config; let i = index;">
            <tr>
              <td>
                <input [(ngModel)]="trx.selected" type="checkbox" (click)="checkForMultiChecked($event)">
              </td>
              <td [@fadeInOut] *ngIf="_allTransactions">{{trx.reportType}}</td>
              <td [@fadeInOut] *ngIf="isColumnVisible('schedule')">{{trx.scheduleType}}</td>
              <td [@fadeInOut] *ngIf="isColumnVisible('type')">
                {{trx.itemized ==='U' ? trx.type +' ('+ trx.itemized + ') ' : trx.type}}</td>
              <td [@fadeInOut] [ngClass]="trx.child ? 'parent': ''" (click)="trx.child? trx.toggleChild = !trx.toggleChild: ''"
                *ngIf="isColumnVisible('name')">{{trx.name}}
                <div *ngIf="trx.child" class="align_right arrow" [ngClass]="trx.toggleChild ? 'arrow-top' : 'arrow-bottom'"></div>
              </td>
              <td [@fadeInOut] *ngIf="isColumnVisible('date')">{{trx.date | date: 'MM/dd/yyyy'}}</td>
              <td [@fadeInOut] *ngIf="isColumnVisible('memoCode')">{{trx.memoCode}}</td>
              <td [@fadeInOut] *ngIf="isColumnVisible('amount')" class="transactions__amount">
                {{(trx.transactionTypeIdentifier === 'ALLOC_H1' || trx.transactionTypeIdentifier === 'ALLOC_H2_RATIO') ? '' : (trx.amount | currency:'USD':'symbol-narrow':'1.2-2')}}
              </td>
              <td [@fadeInOut] *ngIf="isColumnVisible('purposeDescription')">{{trx.purposeDescription}}</td>
              <td [@fadeInOut] *ngIf="isColumnVisible('transactionId')">{{trx.transactionId}}</td>
              <td [@fadeInOut] *ngIf="isColumnVisible('street')">{{trx.street}} {{trx.street2}}</td>
              <td [@fadeInOut] *ngIf="isColumnVisible('city')">{{trx.city}}</td>
              <td [@fadeInOut] *ngIf="isColumnVisible('state')">{{trx.state}}</td>
              <td [@fadeInOut] *ngIf="isColumnVisible('zip')">{{trx.zip | zipCode}}</td>
              <td [@fadeInOut] *ngIf="isColumnVisible('memoText')">{{trx.memoText}}</td>
              <td [@fadeInOut] *ngIf="isColumnVisible('eventId')">{{trx.eventId}}</td>
              <td>
                <div [@fadeInOut] *ngIf="isRecycleBinViewActive()">
                  <span [title]="!trx.iseditable ? 'This transaction cannot be restored because a linked transaction is also in deleted state. 
                  Please restore the linked transaction first.': ''">
                    <button class="btn btn-sm btn-primary" [disabled]="!trx.iseditable" (click)="restoreTransaction(trx)">
                      <i class="undo-icon"></i>
                    </button>
                  </span>
                </div>
                <div *ngIf="editMode">
                  <div [@fadeInOut] *ngIf="isTransactionViewActive()" class="btn-group" ngbDropdown role="group"
                    aria-label="Action dropdown">
                    <button class="btn btn-sm btn-primary" ngbDropdownToggle>
                      <i class="ellipsis-icon"></i>
                    </button>
                    <div id="transactions__dropdown-action" class="dropdown-menu" ngbDropdownMenu>
                      <button class="dropdown-item" (click)="editTransaction(trx)">
                        <i class="edit-icon"></i> Edit
                      </button>
                      <button class="dropdown-item" (click)="printTransaction(trx)">
                        <i class="fas fa-print"></i> Print
                      </button>
                      <button *ngIf="trx.scheduleType !== 'Schedule H1' && trx.scheduleType !== 'Schedule H2' && 
                                    trx.scheduleType !== 'Schedule H3' && trx.scheduleType !== 'Schedule H5'" 
                      class="dropdown-item" (click)="cloneTransaction(trx)">
                        <i class="far fa-copy"></i> Clone
                      </button>
                      <span [title]="(((trx.scheduleType === 'Schedule H1' || trx.scheduleType === 'Schedule H2') && trx.isTrashable !== undefined)? !trx.isTrashable : !trx.iseditable) 
                      ? 'This transaction cannot be deleted because of a linked transaction.': ''">
                        <button [disabled]="((trx.scheduleType === 'Schedule H1' || trx.scheduleType === 'Schedule H2') && trx.isTrashable !== undefined) ? !trx.isTrashable : !trx.iseditable" 
                        *ngIf="checkIfTrashable()" class="dropdown-item"
                            (click)="trashTransaction(trx)">
                            <i class="trash-icon"></i> Trash
                        </button> 
                      </span>
                     
                    </div>
                  </div>
                </div>
                <div *ngIf="!editMode">
                  <button class="btn btn-sm btn-primary" (click)="checkIfEditMode()">
                    <i class="ellipsis-icon"></i>
                  </button>
                </div>
              </td>
            </tr>
            <tr [ngbCollapse]="trx.child? !trx.toggleChild: ''" *ngFor="let trxChild of trx.child;" class="child-bg">
              <td style="padding-left: 1.5rem;">
                <input [(ngModel)]="trxChild.selected" type="checkbox" (click)="checkForMultiChecked($event)">
              </td>
              <td [@fadeInOut] *ngIf="_allTransactions">{{trxChild.reportType}}</td>
              <td [@fadeInOut] *ngIf="isColumnVisible('schedule')">{{trxChild.scheduleType}}</td>
              <td [@fadeInOut] *ngIf="isColumnVisible('type')" style="padding-left: 1.5rem;">{{trxChild.itemized ==='U' ? trxChild.type +' ('+ trxChild.itemized + ') ' : trxChild.type}}</td>
              <td [@fadeInOut] *ngIf="isColumnVisible('name')">{{trxChild.name}}</td>
              <td [@fadeInOut] *ngIf="isColumnVisible('date')">{{trxChild.date | date: 'MM/dd/yyyy'}}</td>
              <td [@fadeInOut] *ngIf="isColumnVisible('memoCode')">{{trxChild.memoCode}}</td>
              <td [@fadeInOut] *ngIf="isColumnVisible('amount')" class="transactions__amount">
                {{trxChild.amount | currency:'USD':'symbol-narrow':'1.2-2'}}
              </td>
              <td [@fadeInOut] *ngIf="isColumnVisible('purposeDescription')">{{trxChild.purposeDescription}}</td>
              <td [@fadeInOut] *ngIf="isColumnVisible('transactionId')">{{trxChild.transactionId}}</td>
              <td [@fadeInOut] *ngIf="isColumnVisible('street')">{{trxChild.street}} {{trxChild.street2}}</td>
              <td [@fadeInOut] *ngIf="isColumnVisible('city')">{{trxChild.city}}</td>
              <td [@fadeInOut] *ngIf="isColumnVisible('state')">{{trxChild.state}}</td>
              <td [@fadeInOut] *ngIf="isColumnVisible('zip')">{{trxChild.zip | zipCode}}</td>
              <td [@fadeInOut] *ngIf="isColumnVisible('memoText')">{{trxChild.memoText}}</td>
              <td [@fadeInOut] *ngIf="isColumnVisible('eventId')">{{trxChild.eventId}}</td>
              <td>
                <div [@fadeInOut] *ngIf="isRecycleBinViewActive()">
                  <span [title]="!trxChild.iseditable ? 'This transaction cannot be restored because it is either auto-generated or its parent is in deleted state.': ''">
                    <button class="btn btn-sm btn-primary" [disabled]="!trxChild.isEditable" (click)="restoreTransaction(trxChild)">
                      <i class="undo-icon"></i>
                    </button>
                  </span>
                </div>
                <div *ngIf="editMode">
                  <div [@fadeInOut] *ngIf="isTransactionViewActive()" class="btn-group" ngbDropdown role="group"
                    aria-label="Action dropdown">
                    <button class="btn btn-sm btn-primary" ngbDropdownToggle>
                      <i class="ellipsis-icon"></i>
                    </button>
                    <div id="transactions__dropdown-action" class="dropdown-menu" ngbDropdownMenu>
                      <button class="dropdown-item" (click)="editTransaction(trxChild)">
                        <i class="edit-icon"></i> Edit
                      </button>
                      <button class="dropdown-item" (click)="printTransaction(trxChild)">
                        <i class="fas fa-print"></i> Print
                      </button>
                      <button class="dropdown-item" 
                      *ngIf="trxChild.scheduleType !== 'Schedule H1' && trxChild.scheduleType !== 'Schedule H2' && 
                                    trxChild.scheduleType !== 'Schedule H3' && trxChild.scheduleType !== 'Schedule H5'"
                      (click)="cloneTransaction(trxChild)">
                        <i class="far fa-copy"></i> Clone
                      </button>
                      <button *ngIf="checkIfTrashable()" class="dropdown-item" (click)="trashTransaction(trxChild)">
                        <i class="trash-icon"></i> Trash
                      </button>
                    </div>
                  </div>
                </div>
                <div *ngIf="!editMode">
                  <button class="btn btn-sm btn-primary" (click)="checkIfEditMode()">
                    <i class="ellipsis-icon"></i>
                  </button>
                </div>
              </td>      
            </tr>
          </ng-container>
          
          <tr *ngIf="isTransactionViewActive()">
            <td></td>
            <td *ngIf="_allTransactions"></td>
            <td *ngIf="isColumnVisible('schedule')"></td>
            <td *ngIf="isColumnVisible('type')"></td>
            <td *ngIf="isColumnVisible('name')"></td>
            <td *ngIf="isColumnVisible('date')"></td>
            <td *ngIf="isColumnVisible('memoCode')"></td>
            <td [@fadeInOut] *ngIf="isColumnVisible('amount')">
              <div class="transactions__total-amount-container">
                <div class="transactions__total-amount">
                  <b>Total</b>
                  <i class="info-icon transactions__total-amount-tip" 
                    ngbTooltip="Represents the total amount of transactions entered on the report. 
                      Those transactions that are memo entries are not added into the total amount."
                    tooltipClass="transactions__tooltip"
                    triggers="click">
                  </i>
                </div>
                <div class="transactions__total-amount-val">
                  <b>{{totalAmount | currency:'USD':'symbol-narrow':'1.2-2'}}</b>
                </div>
              </div>
          </td>
          <td *ngIf="isColumnVisible('purposeDescription')"></td>
            <td *ngIf="isColumnVisible('transactionId')"></td>
            
            <td *ngIf="isColumnVisible('street')"></td>
            <td *ngIf="isColumnVisible('city')"></td>
            <td *ngIf="isColumnVisible('state')"></td>
            <td *ngIf="isColumnVisible('zip')"></td>
            
            <td *ngIf="isColumnVisible('memoText')"></td>
            <td *ngIf="isColumnVisible('eventId')"></td>
            <td *ngIf="isRecycleBinViewActive()"></td>
            
            <td *ngIf="isColumnVisible('aggregate')"></td>
            <td></td>
          </tr>
        </tbody>
    </table>
    <hr/>
    <div *ngIf="showPagination()" class="d-flex justify-content-center transactions__table-pagination-container">
      <pagination-controls [id]="config.id" (pageChange)="getPage($event)">
      </pagination-controls>
    </div>
  </ng-container>
  <div bsModal #columnOptionsModal="bs-modal" class="modal fade column-options-modal" tabindex="-1" role="dialog"
    aria-labelledby="dialog-sizes-name1">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header" id="transactions__pin-modal-header">
          <h4 class="modal-title pull-left">Column Options (Select up to {{maxColumnOptionReadOnly}})</h4>
          <button aria-label="Close" class="close btn btn-link" type="button" (click)="cancelColumnOptions()">
            <span aria-hidden="true">×</span>
          </button>
        </div>
        <div class="modal-body">
          <!--transactionCategory = 'receipts'-->
          <div class="container" *ngIf="transactionCategory === 'receipts'">
            <div class="row">
              <div class="col-md">
                <div class="checkbox">
                  <label>
                    <input [(ngModel)]="getSortableColumn('type').checked" (change)="toggleVisibility('type', $event)"
                      type="checkbox" [disabled]="getSortableColumn('type').disabled">
                    <span [ngClass]="{'disabled-column-option':getSortableColumn('type').disabled}">
                      Type
                    </span>
                  </label>
                </div>
              </div>
              <div class="col-md">
                  <div class="checkbox">
                    <label>
                      <input [(ngModel)]="getSortableColumn('transactionId').checked" (change)="toggleVisibility('transactionId', $event)"
                        type="checkbox" [disabled]="getSortableColumn('transactionId').disabled">
                      <span [ngClass]="{'disabled-column-option':getSortableColumn('transactionId').disabled}">
                        Transaction Id
                      </span>
                    </label>
                  </div>
                </div>
              <div class="col-md">
                <div class="checkbox">
                  <label>
                    <input [(ngModel)]="getSortableColumn('state').checked" (change)="toggleVisibility('state', $event)"
                      type="checkbox" [disabled]="getSortableColumn('state').disabled">
                    <span [ngClass]="{'disabled-column-option':getSortableColumn('state').disabled}">
                      State
                    </span>
                  </label>
                </div>
              </div>
            </div>
            <div class="row">              
              <div class="col-md">
                <div class="checkbox">
                  <label>
                    <input [(ngModel)]="getSortableColumn('contributorEmployer').checked"
                      (change)="toggleVisibility('contributorEmployer', $event)" type="checkbox"
                      [disabled]="getSortableColumn('contributorEmployer').disabled">
                    <span [ngClass]="{'disabled-column-option':getSortableColumn('contributorEmployer').disabled}">
                      Contributor Employer
                    </span>
                  </label>
                </div>                
              </div>
              <div class="col-md">
                <div class="checkbox">
                  <label>
                    <input [(ngModel)]="getSortableColumn('aggregate').checked"
                      (change)="toggleVisibility('aggregate', $event)" type="checkbox"
                      [disabled]="getSortableColumn('aggregate').disabled">
                    <span [ngClass]="{'disabled-column-option':getSortableColumn('aggregate').disabled}">
                      Aggregate Amount
                    </span>
                  </label>
                </div>
              </div>
              <div class="col-md">
                <div class="checkbox">
                  <label>
                    <input [(ngModel)]="getSortableColumn('zip').checked" (change)="toggleVisibility('zip', $event)"
                      type="checkbox" [disabled]="getSortableColumn('zip').disabled">
                    <span [ngClass]="{'disabled-column-option':getSortableColumn('zip').disabled}">
                      Zip
                    </span>
                  </label>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-md">
                    <div class="checkbox">
                      <label>
                        <input [(ngModel)]="getSortableColumn('contributorOccupation').checked"
                          (change)="toggleVisibility('contributorOccupation', $event)" type="checkbox"
                          [disabled]="getSortableColumn('contributorOccupation').disabled">
                        <span [ngClass]="{'disabled-column-option':getSortableColumn('contributorOccupation').disabled}">
                          Contributor Occupation
                        </span>
                      </label>
                    </div>                
              </div>
              <div class="col-md">
                <div class="checkbox">
                  <label>
                    <input [(ngModel)]="getSortableColumn('name').checked" (change)="toggleVisibility('name', $event)"
                      type="checkbox" [disabled]="getSortableColumn('name').disabled">
                    <span [ngClass]="{'disabled-column-option':getSortableColumn('name').disabled}">
                      Name
                    </span>
                  </label>
                </div>
              </div>
              <div class="col-md">
                <div class="checkbox">
                  <label>
                    <input [(ngModel)]="getSortableColumn('date').checked" (change)="toggleVisibility('date', $event)"
                      type="checkbox" [disabled]="getSortableColumn('date').disabled">
                    <span [ngClass]="{'disabled-column-option':getSortableColumn('date').disabled}">
                      Date
                    </span>
                  </label>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-md">
                <div class="checkbox">
                  <label>
                    <input [(ngModel)]="getSortableColumn('street').checked"
                      (change)="toggleVisibility('street', $event)" type="checkbox"
                      [disabled]="getSortableColumn('street').disabled">
                    <span [ngClass]="{'disabled-column-option':getSortableColumn('street').disabled}">
                      Street
                    </span>
                  </label>
                </div>
              </div>
              <div class="col-md">
                  <div class="checkbox">
                    <label>
                      <input [(ngModel)]="getSortableColumn('memoCode').checked"
                        (change)="toggleVisibility('memoCode', $event)" type="checkbox"
                        [disabled]="getSortableColumn('memoCode').disabled">
                      <span [ngClass]="{'disabled-column-option':getSortableColumn('memoCode').disabled}">
                        Memo Code
                      </span>
                    </label>
                  </div>                
              </div>
  
             <!-- <div class="col-md">
                <div class="checkbox">
                  <label>
                    <input [(ngModel)]="getSortableColumn('aggregate').checked"
                      (change)="toggleVisibility('aggregate', $event)" type="checkbox"
                      [disabled]="getSortableColumn('aggregate').disabled">
                    <span [ngClass]="{'disabled-column-option':getSortableColumn('aggregate').disabled}">
                      Aggregate
                    </span>
                  </label>
                </div>
              </div>-->
              <div class="col-md">
                <div class="checkbox">
                  <label>
                    <input [(ngModel)]="getSortableColumn('memoText').checked"
                      (change)="toggleVisibility('memoText', $event)" type="checkbox"
                      [disabled]="getSortableColumn('memoText').disabled">
                    <span [ngClass]="{'disabled-column-option':getSortableColumn('memoText').disabled}">
                      Memo Text/Description
                    </span>
                  </label>
                </div>                
              </div>
            </div>
            <div class="row">
              <div class="col-md">
                    <div class="checkbox">
                      <label>
                        <input [(ngModel)]="getSortableColumn('city').checked" (change)="toggleVisibility('city', $event)"
                          type="checkbox" [disabled]="getSortableColumn('city').disabled">
                        <span [ngClass]="{'disabled-column-option':getSortableColumn('city').disabled}">
                          City
                        </span>
                      </label>
                    </div>
              </div>
              <div class="col-md">
                    <div class="checkbox">
                      <label>
                        <input [(ngModel)]="getSortableColumn('purposeDescription').checked"
                          (change)="toggleVisibility('purposeDescription', $event)" type="checkbox"
                          [disabled]="getSortableColumn('purposeDescription').disabled">
                        <span [ngClass]="{'disabled-column-option':getSortableColumn('purposeDescription').disabled}">
                          Purpose Description
                        </span>
                      </label>
                    </div>                
              </div>
              <div class="col-md">
                <div class="checkbox">
                  <label>
                    <input [(ngModel)]="getSortableColumn('amount').checked"
                      (change)="toggleVisibility('amount', $event)" type="checkbox"
                      [disabled]="getSortableColumn('amount').disabled">
                    <span [ngClass]="{'disabled-column-option':getSortableColumn('amount').disabled}">
                      Amount
                    </span>
                  </label>
                </div>
              </div>
            </div>
          </div>
          <!--transactionCategory = 'disbursements'-->
          <div class="container" *ngIf="transactionCategory === 'disbursements'">
            <div class="row">
              <div class="col-md">
                <div class="checkbox">
                  <label>
                    <input [(ngModel)]="getSortableColumn('type').checked" (change)="toggleVisibility('type', $event)"
                      type="checkbox" [disabled]="getSortableColumn('type').disabled">
                    <span [ngClass]="{'disabled-column-option':getSortableColumn('type').disabled}">
                      Type
                    </span>
                  </label>
                </div>
              </div>
              <div class="col-md">
                  <div class="checkbox">
                    <label>
                      <input [(ngModel)]="getSortableColumn('transactionId').checked" (change)="toggleVisibility('transactionId', $event)"
                        type="checkbox" [disabled]="getSortableColumn('transactionId').disabled">
                      <span [ngClass]="{'disabled-column-option':getSortableColumn('transactionId').disabled}">
                        Transaction Id
                      </span>
                    </label>
                  </div>
                </div>
              <div class="col-md">
                <div class="checkbox">
                  <label>
                    <input [(ngModel)]="getSortableColumn('state').checked" (change)="toggleVisibility('state', $event)"
                      type="checkbox" [disabled]="getSortableColumn('state').disabled">
                    <span [ngClass]="{'disabled-column-option':getSortableColumn('state').disabled}">
                      State
                    </span>
                  </label>
                </div>
              </div>
            </div>
            <div class="row">              
              <div class="col-md">
                <div class="checkbox">
                  <label>
                    <input [(ngModel)]="getSortableColumn('committeeId').checked"
                      (change)="toggleVisibility('committeeId', $event)" type="checkbox"
                      [disabled]="getSortableColumn('committeeId').disabled">
                    <span [ngClass]="{'disabled-column-option':getSortableColumn('committeeId').disabled}">
                      Donor Committee ID
                    </span>
                  </label>
                </div>                
              </div>
              <div class="col-md">
                <div class="checkbox">
                  <label>
                    <input [(ngModel)]="getSortableColumn('electionCode').checked"
                      (change)="toggleVisibility('electionCode', $event)" type="checkbox"
                      [disabled]="getSortableColumn('electionCode').disabled">
                    <span [ngClass]="{'disabled-column-option':getSortableColumn('electionCode').disabled}">
                      Election Code
                    </span>
                  </label>
                </div>
              </div>
              <div class="col-md">
                <div class="checkbox">
                  <label>
                    <input [(ngModel)]="getSortableColumn('zip').checked" (change)="toggleVisibility('zip', $event)"
                      type="checkbox" [disabled]="getSortableColumn('zip').disabled">
                    <span [ngClass]="{'disabled-column-option':getSortableColumn('zip').disabled}">
                      Zip
                    </span>
                  </label>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-md">
                <div class="checkbox">
                  <label>
                    <input [(ngModel)]="getSortableColumn('street').checked"
                      (change)="toggleVisibility('street', $event)" type="checkbox"
                      [disabled]="getSortableColumn('street').disabled">
                    <span [ngClass]="{'disabled-column-option':getSortableColumn('street').disabled}">
                      Street
                    </span>
                  </label>
                </div>
              </div>
              <div class="col-md">
                <div class="checkbox">
                  <label>
                    <input [(ngModel)]="getSortableColumn('name').checked" (change)="toggleVisibility('name', $event)"
                      type="checkbox" [disabled]="getSortableColumn('name').disabled">
                    <span [ngClass]="{'disabled-column-option':getSortableColumn('name').disabled}">
                      Name
                    </span>
                  </label>
                </div>
              </div>
              <div class="col-md">
                <div class="checkbox">
                  <label>
                    <input [(ngModel)]="getSortableColumn('date').checked" (change)="toggleVisibility('date', $event)"
                      type="checkbox" [disabled]="getSortableColumn('date').disabled">
                    <span [ngClass]="{'disabled-column-option':getSortableColumn('date').disabled}">
                      Date
                    </span>
                  </label>
                </div>
              </div>
            </div>
            <div class="row">
              
              <div class="col-md">
                  <div class="checkbox">
                    <label>
                      <input [(ngModel)]="getSortableColumn('memoCode').checked"
                        (change)="toggleVisibility('memoCode', $event)" type="checkbox"
                        [disabled]="getSortableColumn('memoCode').disabled">
                      <span [ngClass]="{'disabled-column-option':getSortableColumn('memoCode').disabled}">
                        Memo
                      </span>
                    </label>
                  </div>                
              </div>

              <div class="col-md">
                <div class="checkbox">
                  <label>
                    <input [(ngModel)]="getSortableColumn('memoText').checked"
                      (change)="toggleVisibility('memoText', $event)" type="checkbox"
                      [disabled]="getSortableColumn('memoText').disabled">
                    <span [ngClass]="{'disabled-column-option':getSortableColumn('memoText').disabled}">
                      Memo Text/Description
                    </span>
                  </label>
                </div>                
              </div>

              <div class="col-md">
                <div class="checkbox">
                  <label>
                    <input [(ngModel)]="getSortableColumn('city').checked" (change)="toggleVisibility('city', $event)"
                      type="checkbox" [disabled]="getSortableColumn('city').disabled">
                    <span [ngClass]="{'disabled-column-option':getSortableColumn('city').disabled}">
                      City
                    </span>
                  </label>
                </div>
          </div>
            </div>
            <div class="row">
              <div class="col-md">
                <div class="checkbox">
                  <label>
                    <input [(ngModel)]="getSortableColumn('purposeDescription').checked"
                      (change)="toggleVisibility('purposeDescription', $event)" type="checkbox"
                      [disabled]="getSortableColumn('purposeDescription').disabled">
                    <span [ngClass]="{'disabled-column-option':getSortableColumn('purposeDescription').disabled}">
                      Purpose
                    </span>
                  </label>
                </div>
              </div>
              <div class="col-md">
                <div class="checkbox">
                  <label>
                    <input [(ngModel)]="getSortableColumn('amount').checked" (change)="toggleVisibility('amount', $event)"
                      type="checkbox" [disabled]="getSortableColumn('amount').disabled">
                    <span [ngClass]="{'disabled-column-option':getSortableColumn('amount').disabled}">
                      Amount
                    </span>
                  </label>
                </div>
              </div>
              <div class="col-md">
                <div class="checkbox">
                  <label>
                    <input [(ngModel)]="getSortableColumn('electionYear').checked"
                      (change)="toggleVisibility('electionYear', $event)" type="checkbox"
                      [disabled]="getSortableColumn('electionYear').disabled">
                    <span [ngClass]="{'disabled-column-option':getSortableColumn('electionYear').disabled}">
                      Election Year
                    </span>
                  </label>
                </div>
              </div>
            </div>
          </div>
          <!--transactionCategory = 'loans and debts'-->
          <div class="container" *ngIf="transactionCategory === 'loans-and-debts'">
            <div class="row">
              <div class="col-md">
                <div class="checkbox">
                  <label>
                    <input [(ngModel)]="getSortableColumn('type').checked" (change)="toggleVisibility('type', $event)"
                      type="checkbox" [disabled]="getSortableColumn('type').disabled">
                    <span [ngClass]="{'disabled-column-option':getSortableColumn('type').disabled}">
                      Type
                    </span>
                  </label>
                </div>
              </div>
              <div class="col-md">
                  <div class="checkbox">
                    <label>
                      <input [(ngModel)]="getSortableColumn('transactionId').checked" (change)="toggleVisibility('transactionId', $event)"
                        type="checkbox" [disabled]="getSortableColumn('transactionId').disabled">
                      <span [ngClass]="{'disabled-column-option':getSortableColumn('transactionId').disabled}">
                        Transaction Id
                      </span>
                    </label>
                  </div>
                </div>
              <div class="col-md">
                <div class="checkbox">
                  <label>
                    <input [(ngModel)]="getSortableColumn('state').checked" (change)="toggleVisibility('state', $event)"
                      type="checkbox" [disabled]="getSortableColumn('state').disabled">
                    <span [ngClass]="{'disabled-column-option':getSortableColumn('state').disabled}">
                      State
                    </span>
                  </label>
                </div>
              </div>
            </div>
            <div class="row">              
              <div class="col-md">
                <div class="checkbox">
                  <label>
                    <input [(ngModel)]="getSortableColumn('loanAmount').checked"
                      (change)="toggleVisibility('loanAmount', $event)" type="checkbox"
                      [disabled]="getSortableColumn('loanAmount').disabled">
                    <span [ngClass]="{'disabled-column-option':getSortableColumn('loanAmount').disabled}">
                      Loan Amount (C)
                    </span>
                  </label>
                </div>                
              </div>
              <div class="col-md">
                <div class="checkbox">
                  <label>
                    <input [(ngModel)]="getSortableColumn('amount').checked" (change)="toggleVisibility('amount', $event)"
                      type="checkbox" [disabled]="getSortableColumn('amount').disabled">
                    <span [ngClass]="{'disabled-column-option':getSortableColumn('amount').disabled}">
                      Amount
                    </span>
                  </label>
                </div>
              </div>
              <div class="col-md">
                <div class="checkbox">
                  <label>
                    <input [(ngModel)]="getSortableColumn('zip').checked" (change)="toggleVisibility('zip', $event)"
                      type="checkbox" [disabled]="getSortableColumn('zip').disabled">
                    <span [ngClass]="{'disabled-column-option':getSortableColumn('zip').disabled}">
                      Zip
                    </span>
                  </label>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-md">
                <div class="checkbox">
                  <label>
                    <input [(ngModel)]="getSortableColumn('street').checked"
                      (change)="toggleVisibility('street', $event)" type="checkbox"
                      [disabled]="getSortableColumn('street').disabled">
                    <span [ngClass]="{'disabled-column-option':getSortableColumn('street').disabled}">
                      Street
                    </span>
                  </label>
                </div>
              </div>
              <div class="col-md">
                <div class="checkbox">
                  <label>
                    <input [(ngModel)]="getSortableColumn('name').checked" (change)="toggleVisibility('name', $event)"
                      type="checkbox" [disabled]="getSortableColumn('name').disabled">
                    <span [ngClass]="{'disabled-column-option':getSortableColumn('name').disabled}">
                      Name
                    </span>
                  </label>
                </div>
              </div>
              <div class="col-md">
                <div class="checkbox">
                  <label>
                    <input [(ngModel)]="getSortableColumn('loanPaymentToDate').checked" (change)="toggleVisibility('loanPaymentToDate', $event)"
                      type="checkbox" [disabled]="getSortableColumn('loanPaymentToDate').disabled">
                    <span [ngClass]="{'disabled-column-option':getSortableColumn('loanPaymentToDate').disabled}">
                      Loan Payment to Date (C)
                    </span>
                  </label>
                </div>
              </div>
            </div>
            <div class="row">
              
              <div class="col-md">
                  <div class="checkbox">
                    <label>
                      <input [(ngModel)]="getSortableColumn('memoCode').checked"
                        (change)="toggleVisibility('memoCode', $event)" type="checkbox"
                        [disabled]="getSortableColumn('memoCode').disabled">
                      <span [ngClass]="{'disabled-column-option':getSortableColumn('memoCode').disabled}">
                        Memo
                      </span>
                    </label>
                  </div>                
              </div>

              <div class="col-md">
                <div class="checkbox">
                  <label>
                    <input [(ngModel)]="getSortableColumn('memoText').checked"
                      (change)="toggleVisibility('memoText', $event)" type="checkbox"
                      [disabled]="getSortableColumn('memoText').disabled">
                    <span [ngClass]="{'disabled-column-option':getSortableColumn('memoText').disabled}">
                      Memo Text/Description
                    </span>
                  </label>
                </div>                
              </div>

              <div class="col-md">
                <div class="checkbox">
                  <label>
                    <input [(ngModel)]="getSortableColumn('city').checked" (change)="toggleVisibility('city', $event)"
                      type="checkbox" [disabled]="getSortableColumn('city').disabled">
                    <span [ngClass]="{'disabled-column-option':getSortableColumn('city').disabled}">
                      City
                    </span>
                  </label>
                </div>
          </div>
            </div>
            <div class="row">
              <div class="col-md">
                <div class="checkbox">
                  <label>
                    <input [(ngModel)]="getSortableColumn('purposeDescription').checked"
                      (change)="toggleVisibility('purposeDescription', $event)" type="checkbox"
                      [disabled]="getSortableColumn('purposeDescription').disabled">
                    <span [ngClass]="{'disabled-column-option':getSortableColumn('purposeDescription').disabled}">
                      Purpose of Debt(D)
                    </span>
                  </label>
                </div>
              </div>
              <div class="col-md">
                <div class="checkbox">
                  <label>
                    <input [(ngModel)]="getSortableColumn('loanPaymentAmt').checked" (change)="toggleVisibility('loanPaymentAmt', $event)"
                      type="checkbox" [disabled]="getSortableColumn('loanPaymentAmt').disabled">
                    <span [ngClass]="{'disabled-column-option':getSortableColumn('loanPaymentAmt').disabled}">
                      Payment Amount (D)
                    </span>
                  </label>
                </div>
              </div>
              <div class="col-md">
                <div class="checkbox">
                  <label>
                    <input [(ngModel)]="getSortableColumn('loanBeginningBalance').checked"
                      (change)="toggleVisibility('loanBeginningBalance', $event)" type="checkbox"
                      [disabled]="getSortableColumn('loanBeginningBalance').disabled">
                    <span [ngClass]="{'disabled-column-option':getSortableColumn('loanBeginningBalance').disabled}">
                      Beginning Balance (D)
                    </span>
                  </label>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-md">
                <div class="checkbox">
                  <label>
                    <input [(ngModel)]="getSortableColumn('loanIncurredAmt').checked"
                      (change)="toggleVisibility('loanIncurredAmt', $event)" type="checkbox"
                      [disabled]="getSortableColumn('loanIncurredAmt').disabled">
                    <span [ngClass]="{'disabled-column-option':getSortableColumn('loanIncurredAmt').disabled}">
                      Incurred Amount (D)
                    </span>
                  </label>
                </div>
              </div>
              <div class="col-md">
                <div class="checkbox">
                  <label>
                    <input [(ngModel)]="getSortableColumn('loanClosingBalance').checked" (change)="toggleVisibility('loanClosingBalance', $event)"
                      type="checkbox" [disabled]="getSortableColumn('loanClosingBalance').disabled">
                    <span [ngClass]="{'disabled-column-option':getSortableColumn('loanClosingBalance').disabled}">
                      Balance at Close (D)
                    </span>
                  </label>
                </div>
              </div>
              <div class="col-md">
                <div class="checkbox">
                  <label>
                    <input [(ngModel)]="getSortableColumn('loanIncurredDate').checked"
                      (change)="toggleVisibility('loanIncurredDate', $event)" type="checkbox"
                      [disabled]="getSortableColumn('loanIncurredDate').disabled">
                    <span [ngClass]="{'disabled-column-option':getSortableColumn('loanIncurredDate').disabled}">
                      Loan Incurred Date (C)
                    </span>
                  </label>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-md">
                <div class="checkbox">
                  <label>
                    <input [(ngModel)]="getSortableColumn('loanDueDate').checked"
                      (change)="toggleVisibility('loanDueDate', $event)" type="checkbox"
                      [disabled]="getSortableColumn('loanDueDate').disabled">
                    <span [ngClass]="{'disabled-column-option':getSortableColumn('loanDueDate').disabled}">
                      Loan Due Date (C)
                    </span>
                  </label>
                </div>
              </div>
              <div class="col-md">
              </div>
              <div class="col-md">
              </div>
            </div>
          </div>
          <!--transactionCategory = 'other'-->
          <div class="container" *ngIf="transactionCategory === 'other'">
            <div class="row">
              <div class="col-md">
                <div class="checkbox">
                  <label>
                    <input [(ngModel)]="getSortableColumn('type').checked" (change)="toggleVisibility('type', $event)"
                      type="checkbox" [disabled]="getSortableColumn('type').disabled">
                    <span [ngClass]="{'disabled-column-option':getSortableColumn('type').disabled}">
                      Transaction Type
                    </span>
                  </label>
                </div>
              </div>
              <div class="col-md">
                  <div class="checkbox">
                    <label>
                      <input [(ngModel)]="getSortableColumn('transactionId').checked" (change)="toggleVisibility('transactionId', $event)"
                        type="checkbox" [disabled]="getSortableColumn('transactionId').disabled">
                      <span [ngClass]="{'disabled-column-option':getSortableColumn('transactionId').disabled}">
                        Transaction Id
                      </span>
                    </label>
                  </div>
                </div>
              <div class="col-md">
                <div class="checkbox">
                  <label>
                    <input [(ngModel)]="getSortableColumn('state').checked" (change)="toggleVisibility('state', $event)"
                      type="checkbox" [disabled]="getSortableColumn('state').disabled">
                    <span [ngClass]="{'disabled-column-option':getSortableColumn('state').disabled}">
                      State
                    </span>
                  </label>
                </div>
              </div>
            </div>
            <div class="row">              
              <div class="col-md">
                <div class="checkbox">
                  <label>
                    <input [(ngModel)]="getSortableColumn('schedule').checked"
                      (change)="toggleVisibility('schedule', $event)" type="checkbox"
                      [disabled]="getSortableColumn('schedule').disabled">
                    <span [ngClass]="{'disabled-column-option':getSortableColumn('schedule').disabled}">
                      Schedule
                    </span>
                  </label>
                </div>                
              </div>
              <div class="col-md">
                <div class="checkbox">
                  <label>
                    <input [(ngModel)]="getSortableColumn('eventId').checked"
                      (change)="toggleVisibility('eventId', $event)" type="checkbox"
                      [disabled]="getSortableColumn('eventId').disabled">
                    <span [ngClass]="{'disabled-column-option':getSortableColumn('eventId').disabled}">
                      Activity or Event Identifier
                    </span>
                  </label>
                </div>
              </div>
              <div class="col-md">
                <div class="checkbox">
                  <label>
                    <input [(ngModel)]="getSortableColumn('zip').checked" (change)="toggleVisibility('zip', $event)"
                      type="checkbox" [disabled]="getSortableColumn('zip').disabled">
                    <span [ngClass]="{'disabled-column-option':getSortableColumn('zip').disabled}">
                      Zip
                    </span>
                  </label>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-md">
                <div class="checkbox">
                  <label>
                    <input [(ngModel)]="getSortableColumn('street').checked"
                      (change)="toggleVisibility('street', $event)" type="checkbox"
                      [disabled]="getSortableColumn('street').disabled">
                    <span [ngClass]="{'disabled-column-option':getSortableColumn('street').disabled}">
                      Street
                    </span>
                  </label>
                </div>
              </div>
              <div class="col-md">
                <div class="checkbox">
                  <label>
                    <input [(ngModel)]="getSortableColumn('name').checked" (change)="toggleVisibility('name', $event)"
                      type="checkbox" [disabled]="getSortableColumn('name').disabled">
                    <span [ngClass]="{'disabled-column-option':getSortableColumn('name').disabled}">
                      Name
                    </span>
                  </label>
                </div>
              </div>
              <div class="col-md">
                <div class="checkbox">
                  <label>
                    <input [(ngModel)]="getSortableColumn('date').checked" (change)="toggleVisibility('date', $event)"
                      type="checkbox" [disabled]="getSortableColumn('date').disabled">
                    <span [ngClass]="{'disabled-column-option':getSortableColumn('date').disabled}">
                      Date
                    </span>
                  </label>
                </div>
              </div>
            </div>
            <div class="row">
              
              <div class="col-md">
                  <div class="checkbox">
                    <label>
                      <input [(ngModel)]="getSortableColumn('memoCode').checked"
                        (change)="toggleVisibility('memoCode', $event)" type="checkbox"
                        [disabled]="getSortableColumn('memoCode').disabled">
                      <span [ngClass]="{'disabled-column-option':getSortableColumn('memoCode').disabled}">
                        Memo
                      </span>
                    </label>
                  </div>                
              </div>

              <div class="col-md">
                <div class="checkbox">
                  <label>
                    <input [(ngModel)]="getSortableColumn('memoText').checked"
                      (change)="toggleVisibility('memoText', $event)" type="checkbox"
                      [disabled]="getSortableColumn('memoText').disabled">
                    <span [ngClass]="{'disabled-column-option':getSortableColumn('memoText').disabled}">
                      Memo Text/Description
                    </span>
                  </label>
                </div>                
              </div>

              <div class="col-md">
                <div class="checkbox">
                  <label>
                    <input [(ngModel)]="getSortableColumn('city').checked" (change)="toggleVisibility('city', $event)"
                      type="checkbox" [disabled]="getSortableColumn('city').disabled">
                    <span [ngClass]="{'disabled-column-option':getSortableColumn('city').disabled}">
                      City
                    </span>
                  </label>
                </div>
          </div>
            </div>
            <div class="row">
              <div class="col-md">
                <div class="checkbox">
                  <label>
                    <input [(ngModel)]="getSortableColumn('purposeDescription').checked"
                      (change)="toggleVisibility('purposeDescription', $event)" type="checkbox"
                      [disabled]="getSortableColumn('purposeDescription').disabled">
                    <span [ngClass]="{'disabled-column-option':getSortableColumn('purposeDescription').disabled}">
                      Purpose
                    </span>
                  </label>
                </div>
              </div>
              <div class="col-md">
              </div>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary btn-modal-footer btn-right" (click)="saveColumnOptions()">
            Save
          </button>
          <button type="button" class="btn btn-modal-footer btn-right btn-secondary-gray" 
            (click)="cancelColumnOptions()">
            Cancel
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
