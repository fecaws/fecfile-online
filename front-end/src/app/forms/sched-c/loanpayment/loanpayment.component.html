<div class="loan-payment-container">
  <form #f="ngForm" (ngSubmit)="saveLoanPayment(f.value)">
    <header>
      <div class="header-content">
        <h1>
          F3X - Schedule C - Loan Payment
        </h1>
      </div>
      <div class="grid-row">
        <div class="grid-row__col grid-row__col--12">
          <div class="forms__btn-container">
            <br />
            <br />
          </div>
        </div>
      </div>
    </header>

    <section>
      <!-- Entity row -->
      <div class="row pl-3">
        <ng-select [(ngModel)]="selectedEntity" [ngStyle]="{ 'width': '150px'}" [items]="entityTypes"
          bindValue="code" bindLabel="description" name="entity_type" (change)="handleTypeChange($event,f)" required type="text"></ng-select>
      </div>

      <!-- Individual Name Row -->
      <div class="row" *ngIf="f.value.entity_type === 'IND'">
        <div class="form-group col pr-5">
          <label for="last_Name">Last Name
            <button type="button" class="btn btn-info" ngbTooltip="{{tooltipPlaceholder}}" tooltipClass="form-tooltip">
              <i class="info-icon" aria-hidden="true"></i>
              <span class="sr-only">Click here for more information</span>
            </button>
          </label>
          <input ngModel type="text" class="form-control" id="last_Name" name="last_Name" maxlength="30" required>
        </div>

        <div class="form-group col pr-5">
          <label for="first_Name">First Name
            <button type="button" class="btn btn-info" ngbTooltip="{{tooltipPlaceholder}}" tooltipClass="form-tooltip">
              <i class="info-icon" aria-hidden="true"></i>
              <span class="sr-only">Click here for more information</span>
            </button>
          </label>
          <input ngModel type="text" class="form-control" id="first_Name" name="first_Name" maxlength="20" required>
        </div>

        <div class="form-group col">
          <label for="middle_name">Middle Initial (Optional)</label>
          <input ngModel type="text" class="form-control" id="middle_name" name="middle_name" maxlength="20">
        </div>

      </div>

      <!-- Organization Name Row -->
      <div class="row" *ngIf="f.value.entity_type === 'ORG'">
        <div class="form-group col col-md-4">
          <label for="entity_name">Banking Institution
            <button type="button" class="btn btn-info" ngbTooltip="{{tooltipPlaceholder}}" tooltipClass="form-tooltip">
              <i class="info-icon" aria-hidden="true"></i>
              <span class="sr-only">Click here for more information</span>
            </button>
          </label>
          <input ngModel type="text" class="form-control" id="entity_name" name="entity_name" maxlength="200" required>
        </div>
      </div>

      <!-- Prefix/Suffix Row -->
      <div class="row" *ngIf="f.value.entity_type === 'IND'">
        <div class="form-group col col-md-1 pr-5">
          <label for="prefix">Prefix (Optional)</label>
          <input ngModel type="text" class="form-control" id="prefix" name="prefix" maxlength="10">
        </div>
        <div class="form-group col col-md-1 pr-5">
          <label for="suffix">Suffix (Optional)</label>
          <input ngModel type="text" class="form-control" id="suffix" name="suffix" maxlength="10">
        </div>
      </div>

      <hr><br>

      <!-- Street address row -->
      <div class="row">
        <div class="form-group col col-md-3 pr-5">
          <label for="street_1">Street 1
            <button type="button" class="btn btn-info" ngbTooltip="{{tooltipPlaceholder}}" tooltipClass="form-tooltip">
              <i class="info-icon" aria-hidden="true"></i>
              <span class="sr-only">Click here for more information</span>
            </button>
          </label>
          <input ngModel type="text" class="form-control" id="street_1" name="street_1" required maxlength="34">
        </div>
        <div class="form-group col col-md-3 pr-5">
          <label for="street_2">Street 2 (Optional)
            <button type="button" class="btn btn-info" ngbTooltip="{{tooltipPlaceholder}}" tooltipClass="form-tooltip">
              <i class="info-icon" aria-hidden="true"></i>
              <span class="sr-only">Click here for more information</span>
            </button>
          </label>
          <input ngModel type="text" class="form-control" id="street_2" name="street_2" maxlength="34">
        </div>
      </div>

      <!-- City/State/Zip row -->
      <div class="row">
        <div class="form-group col col-md-3 pr-5">
          <label for="city">City
            <button type="button" class="btn btn-info" ngbTooltip="{{tooltipPlaceholder}}" tooltipClass="form-tooltip">
              <i class="info-icon" aria-hidden="true"></i>
              <span class="sr-only">Click here for more information</span>
            </button>
          </label>
          <input ngModel type="text" class="form-control" id="city" name="city" required maxlength="30">
        </div>
        <div class="form-group col col-md-1 pr-5">
          <label for="state">State
            <button type="button" class="btn btn-info" ngbTooltip="{{tooltipPlaceholder}}" tooltipClass="form-tooltip">
              <i class="info-icon" aria-hidden="true"></i>
              <span class="sr-only">Click here for more information</span>
            </button>
          </label>
          <ng-select class="state-select" ngModel name="state" [items]="states" bindValue="state_code" 
          [ngClass]="
                      f.control.get('state')?.invalid &&
                      (f.touched || f.dirty)
                        ? 'state-select-error'
                        : ''
                    "
          bindLabel="state_code"  required >
          </ng-select>
        </div>
        <div class="form-group col col-md-3 pr-5">
          <label for="city">Zip
            <button type="button" class="btn btn-info" ngbTooltip="{{tooltipPlaceholder}}" tooltipClass="form-tooltip">
              <i class="info-icon" aria-hidden="true"></i>
              <span class="sr-only">Click here for more information</span>
            </button>
          </label>
          <input ngModel type="text" class="form-control" id="zip" name="zip" required maxlength="9">
        </div>
      </div>

      <hr><br>

      <!-- Expenditure Date Row -->
      <div class="row">
        <div class="form-group col col-md-4">
          <label for="expenditure_date">Expenditure Date
            <button type="button" class="btn btn-info" ngbTooltip="{{tooltipPlaceholder}}" tooltipClass="form-tooltip">
              <i class="info-icon" aria-hidden="true"></i>
              <span class="sr-only">Click here for more information</span>
            </button>
          </label>
          <div class="input-group transactions__filter-multi-input">
            <div class="input-group-prepend">
              <span class="input-group-text" id="expenditure_dateIcon">
                <i class="calendar-icon" aria-hidden="true"></i>
              </span>
            </div>
            <input type="date" name="expenditure_date" [(ngModel)]="filterexpenditure_date" class="form-control"
              id="expenditure_date" aria-label="Filter From Deleted Date" aria-describedby="filter-from-deleted-date"
              (change)="expenditureDateChanged($event.target.value)" required>
          </div>
          <div class="text-error text-left" *ngIf="f.controls?.expenditure_date?.errors && f.controls?.expenditure_date?.errors['contributionDateInvalid']">
            The date entered falls outside of the report coverage period. Transactions for this report
            should fall within {{ cvgStartDate }} and {{ cvgEndDate }} (Coverage Dates of Report). If you
            need to add a transaction with a date that falls outside of the coverage period for this report,
            you will need to check the memo code box.
            <!-- Entered date is outside of the report coverage period. Please enter transactions for this
                              coverage period only. -->
          </div>
        </div>
      </div>

      <!-- Expenditure Amount / Memo Code Row -->
      <div class="row">
        <div class="form-group col col-md-4 pr-5">
          <label for="expenditure_amount">Expenditure Amount
            <button type="button" class="btn btn-info" ngbTooltip="{{tooltipPlaceholder}}" tooltipClass="form-tooltip">
              <i class="info-icon" aria-hidden="true"></i>
              <span class="sr-only">Click here for more information</span> 
            </button>
          </label>
          <div class="input-group transactions__filter-multi-input">
            <div class="input-group-prepend">
              <span class="input-group-text" id="expenditure_amount">
                <i class="dollar-sign-icon" aria-hidden="true"></i>
              </span>
            </div>
            <input [ngModel]="f.expenditure_amount | number : '1.2-2'" (ngModelChange)="f.expenditure_amount=$event"
            [ngModelOptions]="{updateOn: 'blur'}"
             type="text" min="0" value="0" name="expenditure_amount" 
              class="form-control" id="expenditure_amount" aria-label="Expenditure Amount"
              aria-describedby="expenditure_amount" required>

 
          </div>
        </div>
        <div class="form-group col col-md-4">
          <div class="checkbox">
            <label for="memoCode">Memo Code
              <button type="button" class="btn btn-info" ngbTooltip="{{tooltipPlaceholder}}"
                tooltipClass="form-tooltip">
                <i class="info-icon" aria-hidden="true"></i>
                <span class="sr-only">Click here for more information</span>
              </button>
            </label>
            <input type="checkbox" ngModel style="transform: scale(3.0); margin-top:15px;" name="memoCode">
          </div>
        </div>
      </div>

      <hr><br>

      <!-- Descriptions Row --> 
      <div class="row">
        <div class="form-group col">
          <label for="expenditure_purpose">Expenditure Purpose Description
            <button type="button" class="btn btn-info" ngbTooltip="{{tooltipPlaceholder}}" tooltipClass="form-tooltip">
              <i class="info-icon" aria-hidden="true"></i>
              <span class="sr-only">Click here for more information</span>
            </button>
          </label>
          <textarea ngModel type="text" class="form-control" id="expenditure_purpose"
            name="expenditure_purpose" maxlength="100"></textarea>
        </div>
        <div class="form-group col">
          <label for="memo_text">Memo Text/Description
            <button type="button" class="btn btn-info" ngbTooltip="{{tooltipPlaceholder}}" tooltipClass="form-tooltip">
              <i class="info-icon" aria-hidden="true"></i>
              <span class="sr-only">Click here for more information</span>
            </button>
          </label>
          <textarea ngModel type="text" class="form-control" id="memo_text" name="memo_text" 
          maxlength="100"></textarea>
        </div>
      </div>

    </section>
    <footer>
      <div class="grid-row">
        <div class="grid-row__col grid-row__col--12">
          <div class="forms__btn-container">
            <button id="submit" class="btn btn-primary btn-right" type="submit">Submit</button>
          </div>
        </div>
      </div>
    </footer>
  </form>
</div>


<!-- transfer breakdown page -->
<!-- Total For Breakdown of Transfers Received - Levin Funds -->